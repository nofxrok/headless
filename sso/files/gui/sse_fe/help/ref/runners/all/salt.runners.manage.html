<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>salt.runners.manage</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="schema.DC" href="http://purl.org/dc/terms/">
      <meta name="DC.Type" content="reference">
      
      <meta name="DC.Title" content="salt.runners.manage">
      
      <meta name="DC.Relation" scheme="URI" content="../../runners.html">
      
      <meta name="DC.Format" content="XHTML">
      
      <meta name="DC.Identifier" content="salt-runners-manage">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/gui/css/core.min.css">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/gui/css/webhelp.min.css">
      <script type="text/javascript" src="../../../themes/gui/js/webhelp.min.js"></script>
      </head>
   <body>
      <div id="wrapper">
         <!--ZOOMSTOP-->
         <div id="sidebar-wrapper" class="reference dynamic-toc"></div>
         <!--ZOOMRESTART-->
         <div id="page-content-wrapper">
            <div class="container-fluid">
               <div class="row">
                  <div class="col-lg-12">
                     <div class="page reference  - topic-topic       reference-reference " id="salt-runners-manage">
                        <!--ZOOMSTOP--><a href="#menu-toggle" class="btn btn-primary" id="menu-toggle">Toggle Menu</a><!--ZOOMRESTART--><h1 class="title topictitle1">salt.runners.manage</h1>
                        <div class="body refbody">
                           <div class="section">
                              <p class="p ids"><span class="ph" id="salt-runners-manage__module-salt.runners.manage"></span></p>
                              
                              <p class="p">General management functions for salt, tools like seeing what hosts are up
                                 and what hosts are down
                              </p>
                              
                           </div>
                           
                        </div>
                        
                        <div xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" class="related-links"></div>
                        <div class="topic reference nested1" id="salt.runners.manage.bootstrap">
                           <h2 class="title topictitle2">bootstrap</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.runners.manage.bootstrap(
								version='develop',
								script=None,
								hosts='',
								root_user=True
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Bootstrap minions with salt-bootstrap</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d343543e47" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d343543e49" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d343543e47" class="stentry propvalue">version</td>
                                    
                                    <td valign="top" headers="d343543e49" class="stentry propdesc">
                                       <p class="p">Git tag of version to install</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d343543e47" class="stentry propvalue">script</td>
                                    
                                    <td valign="top" headers="d343543e49" class="stentry propdesc">
                                       <p class="p">Script to execute</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d343543e47" class="stentry propvalue">hosts</td>
                                    
                                    <td valign="top" headers="d343543e49" class="stentry propdesc">
                                       <p class="p">Comma-separated hosts [example: hosts='host1.local,host2.local']</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d343543e47" class="stentry propvalue">root_user</td>
                                    
                                    <td valign="top" headers="d343543e49" class="stentry propdesc">
                                       <p class="p">Prepend <tt class="ph tt">root@</tt> to each host.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt-run manage.bootstrap hosts='host1,host2'
salt-run manage.bootstrap hosts='host1,host2' version='v0.17'
salt-run manage.bootstrap hosts='host1,host2' version='v0.17' script='https://bootstrap.saltstack.com/develop'
salt-run manage.bootstrap hosts='ec2-user@host1,ec2-user@host2' root_user=False</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.runners.manage.bootstrap_psexec">
                           <h2 class="title topictitle2">bootstrap_psexec</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.runners.manage.bootstrap_psexec(
								hosts='',
								master=None,
								version=None,
								arch='win32',
								installer_url=None,
								username=None,
								password=None
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Bootstrap Windows minions via PsExec.</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d343543e113" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d343543e115" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d343543e113" class="stentry propvalue">hosts</td>
                                    
                                    <td valign="top" headers="d343543e115" class="stentry propdesc">
                                       <p class="p">Comma separated list of hosts to deploy the Windows Salt minion.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d343543e113" class="stentry propvalue">master</td>
                                    
                                    <td valign="top" headers="d343543e115" class="stentry propdesc">
                                       <p class="p">Address of the Salt master passed as an argument to the installer.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d343543e113" class="stentry propvalue">version</td>
                                    
                                    <td valign="top" headers="d343543e115" class="stentry propdesc">
                                       <p class="p">Point release of installer to download. Defaults to the most recent.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d343543e113" class="stentry propvalue">arch</td>
                                    
                                    <td valign="top" headers="d343543e115" class="stentry propdesc">
                                       <p class="p">Architecture of installer to download. Defaults to win32.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d343543e113" class="stentry propvalue">installer_url</td>
                                    
                                    <td valign="top" headers="d343543e115" class="stentry propdesc">
                                       <p class="p">URL of minion installer executable. Defaults to the latest version from
                                          <a class="xref" href="http://docs.saltstack.com/downloads" target="_blank">http://docs.saltstack.com/downloads</a></p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d343543e113" class="stentry propvalue">username</td>
                                    
                                    <td valign="top" headers="d343543e115" class="stentry propdesc">
                                       <p class="p">Optional user name for login on remote computer.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d343543e113" class="stentry propvalue">password</td>
                                    
                                    <td valign="top" headers="d343543e115" class="stentry propdesc">
                                       <p class="p">Password for optional username. If omitted, PsExec will prompt for one
                                          to be entered for each host.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt-run manage.bootstrap_psexec hosts='host1,host2'
salt-run manage.bootstrap_psexec hosts='host1,host2' version='0.17' username='DOMAIN\Administrator'
salt-run manage.bootstrap_psexec hosts='host1,host2' installer_url='http://exampledomain/salt-installer.exe'</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.runners.manage.down">
                           <h2 class="title topictitle2">down</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.runners.manage.down(
								removekeys=False
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Print a list of all the down or unresponsive salt minions
                                    Optionally remove keys of down minions
                                 </p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt-run manage.down
salt-run manage.down removekeys=True</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.runners.manage.key_regen">
                           <h2 class="title topictitle2">key_regen</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.runners.manage.key_regen( )</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">This routine is used to regenerate all keys in an environment. This is
                                    invasive! ALL KEYS IN THE SALT ENVIRONMENT WILL BE REGENERATED!!
                                 </p>
                                 
                                 <p class="p">The key_regen routine sends a command out to minions to revoke the master
                                    key and remove all minion keys, it then removes all keys from the master
                                    and prompts the user to restart the master. The minions will all reconnect
                                    and keys will be placed in pending.
                                 </p>
                                 
                                 <p class="p">After the master is restarted and minion keys are in the pending directory
                                    execute a salt-key -A command to accept the regenerated minion keys.
                                 </p>
                                 
                                 <p class="p">The master <em class="ph i">must</em> be restarted within 60 seconds of running this command or
                                    the minions will think there is something wrong with the keys and abort.
                                 </p>
                                 
                                 <p class="p">Only Execute this runner after upgrading minions and master to 0.15.1 or
                                    higher!
                                 </p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt-run manage.key_regen</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.runners.manage.not_present">
                           <h2 class="title topictitle2">not_present</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.runners.manage.not_present(
								subset=None,
								show_ipv4=False
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Print a list of all minions that are NOT up according to Salt's presence
                                    detection (no commands will be sent)
                                 </p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d343543e266" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d343543e268" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d343543e266" class="stentry propvalue">subset</td>
                                    
                                    <td valign="top" headers="d343543e268" class="stentry propdesc">
                                       <p class="p">Pass in a CIDR range to filter minions by IP address.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d343543e266" class="stentry propvalue">show_ipv4</td>
                                    
                                    <td valign="top" headers="d343543e268" class="stentry propdesc">
                                       <p class="p">Also show the IP address each minion is connecting from.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt-run manage.not_present</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.runners.manage.present">
                           <h2 class="title topictitle2">present</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.runners.manage.present(
								subset=None,
								show_ipv4=False
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Print a list of all minions that are up according to Salt's presence
                                    detection (no commands will be sent)
                                 </p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d343543e317" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d343543e319" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d343543e317" class="stentry propvalue">subset</td>
                                    
                                    <td valign="top" headers="d343543e319" class="stentry propdesc">
                                       <p class="p">Pass in a CIDR range to filter minions by IP address.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d343543e317" class="stentry propvalue">show_ipv4</td>
                                    
                                    <td valign="top" headers="d343543e319" class="stentry propdesc">
                                       <p class="p">Also show the IP address each minion is connecting from.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt-run manage.present</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.runners.manage.safe_accept">
                           <h2 class="title topictitle2">safe_accept</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.runners.manage.safe_accept(
								target,
								expr_form='glob'
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Accept a minion's public key after checking the fingerprint over salt-ssh</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt-run manage.safe_accept my_minion
salt-run manage.safe_accept minion1,minion2 expr_form=list</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.runners.manage.status">
                           <h2 class="title topictitle2">status</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.runners.manage.status(
								output=True
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Print the status of all known salt minions</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt-run manage.status</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.runners.manage.up">
                           <h2 class="title topictitle2">up</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.runners.manage.up( )</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Print a list of all of the minions that are up</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt-run manage.up</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.runners.manage.versions">
                           <h2 class="title topictitle2">versions</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.runners.manage.versions( )</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Check the version of active minions</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt-run manage.versions</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                     </div>
                     <button id="next-button" type="button" class="btn btn-primary">
                        Next <span class="glyphicon glyphicon-chevron-right"></span></button><div class="footer">

                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>