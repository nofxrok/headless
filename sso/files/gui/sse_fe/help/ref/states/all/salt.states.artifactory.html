<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>salt.states.jboss7</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="schema.DC" href="http://purl.org/dc/terms/">
      <meta name="DC.Type" content="reference">
      
      <meta name="DC.Title" content="salt.states.jboss7">
      
      <meta name="DC.Relation" scheme="URI" content="../../state-modules.html">
      
      <meta name="DC.Format" content="XHTML">
      
      <meta name="DC.Identifier" content="salt-states-jboss7">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/gui/css/core.min.css">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/gui/css/webhelp.min.css">
      <script type="text/javascript" src="../../../themes/gui/js/webhelp.min.js"></script>
      </head>
   <body>
      <div id="wrapper">
         <!--ZOOMSTOP-->
         <div id="sidebar-wrapper" class="reference dynamic-toc"></div>
         <!--ZOOMRESTART-->
         <div id="page-content-wrapper">
            <div class="container-fluid">
               <div class="row">
                  <div class="col-lg-12">
                     <div class="page reference  - topic-topic       reference-reference " id="salt-states-jboss7">
                        <!--ZOOMSTOP--><a href="#menu-toggle" class="btn btn-primary" id="menu-toggle">Toggle Menu</a><!--ZOOMRESTART--><h1 class="title topictitle1">salt.states.jboss7</h1>
                        <div class="body refbody">
                           <div class="section">
                              <p class="p ids"><span class="ph" id="salt-states-jboss7__module-salt.states.artifactory"></span></p>
                              
                              <p class="p">This state downloads artifacts from artifactory.</p>
                              
                           </div>
                           
                        </div>
                        
                        <div xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" class="related-links"></div>
                        <div class="topic reference nested1" id="salt.states.artifactory.downloaded">
                           <h2 class="title topictitle2">downloaded</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.states.artifactory.downloaded(
								name,
								artifact,
								target_dir='/tmp',
								target_file=None
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Ensures that the artifact from artifactory exists at given location. If it doesn't
                                    exist, then
                                    it will be downloaded. It it already exists then the checksum of existing file is
                                    checked against checksum
                                    in artifactory. If it is different then the step will fail.
                                 </p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d353580e47" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d353580e49" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d353580e47" class="stentry propvalue">artifact:</td>
                                    
                                    <td valign="top" headers="d353580e49" class="stentry propdesc">
                                       <dl class="dl definition_list">
                                          <dt class="dt dlterm">Details of the artifact to be downloaded from artifactory.</dt>
                                          
                                          <dd class="dd">
                                             <ul class="ul">
                                                <li class="li">
                                                   <p class="p">artifactory_url: URL of the artifactory instance</p>
                                                   
                                                </li>
                                                
                                                <li class="li">
                                                   <p class="p">repository: Repository in artifactory</p>
                                                   
                                                </li>
                                                
                                                <li class="li">
                                                   <p class="p">artifact_id: Artifact ID</p>
                                                   
                                                </li>
                                                
                                                <li class="li">
                                                   <p class="p">group_id: Group ID</p>
                                                   
                                                </li>
                                                
                                                <li class="li">
                                                   <p class="p">packaging: Packaging</p>
                                                   
                                                </li>
                                                
                                                <li class="li">
                                                   <p class="p">version: Version</p>
                                                   
                                                </li>
                                                
                                             </ul>
                                             
                                          </dd>
                                          
                                       </dl>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d353580e47" class="stentry propvalue">target_dir:</td>
                                    
                                    <td valign="top" headers="d353580e49" class="stentry propdesc">
                                       <p class="p">Directory where the artifact should be downloaded. By default it is downloaded to
                                          /tmp directory.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d353580e47" class="stentry propvalue">target_file:</td>
                                    
                                    <td valign="top" headers="d353580e49" class="stentry propdesc">
                                       <p class="p">Target file to download artifact to. By default file name is resolved by artifactory.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Example::
                                    Download artifact to a specific file:
                                 </p>
                                 <pre class="pre codeblock language-yaml">jboss_module_downloaded:
  artifactory.downloaded:
   - artifact:
        artifactory_url: http://artifactory.intranet.company.com/artifactory
        repository: 'libs-release-local'
        artifact_id: 'module'
        group_id: 'com.company.module'
        packaging: 'jar'
        version: '1.0'
   - target_file: /opt/jboss7/modules/com/company/lib/module.jar</pre>
                                 <p class="p">Download artifact to the folder (automatically resolves file name):</p>
                                 <pre class="pre codeblock language-yaml">jboss_module_downloaded:
  artifactory.downloaded:
   - artifact:
        artifactory_url: http://artifactory.intranet.company.com/artifactory
        repository: 'libs-release-local'
        artifact_id: 'module'
        group_id: 'com.company.module'
        packaging: 'jar'
        version: '1.0'
   - target_dir: /opt/jboss7/modules/com/company/lib</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                     </div>
                     <button id="next-button" type="button" class="btn btn-primary">
                        Next <span class="glyphicon glyphicon-chevron-right"></span></button><div class="footer">

                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>