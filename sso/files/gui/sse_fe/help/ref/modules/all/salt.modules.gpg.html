<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>salt.modules.gpg</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="schema.DC" href="http://purl.org/dc/terms/">
      <meta name="DC.Type" content="reference">
      
      <meta name="DC.Title" content="salt.modules.gpg">
      
      <meta name="DC.Relation" scheme="URI" content="../../exe-modules.html">
      
      <meta name="DC.Format" content="XHTML">
      
      <meta name="DC.Identifier" content="salt-modules-gpg">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/gui/css/core.min.css">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/gui/css/webhelp.min.css">
      <script type="text/javascript" src="../../../themes/gui/js/webhelp.min.js"></script>
      </head>
   <body>
      <div id="wrapper">
         <!--ZOOMSTOP-->
         <div id="sidebar-wrapper" class="reference dynamic-toc"></div>
         <!--ZOOMRESTART-->
         <div id="page-content-wrapper">
            <div class="container-fluid">
               <div class="row">
                  <div class="col-lg-12">
                     <div class="page reference  - topic-topic       reference-reference " id="salt-modules-gpg">
                        <!--ZOOMSTOP--><a href="#menu-toggle" class="btn btn-primary" id="menu-toggle">Toggle Menu</a><!--ZOOMRESTART--><h1 class="title topictitle1">salt.modules.gpg</h1>
                        <div class="body refbody">
                           <div class="section">
                              <p class="p ids"><span class="ph" id="salt-modules-gpg__module-salt.modules.gpg"></span></p>
                              
                              <p class="p">Manage a GPG keychains, add keys, create keys, retrieve keys
                                 from keyservers.  Sign, encrypt and sign &amp; encrypt text and files.
                              </p>
                              
                              <p class="p"><span class="keyword versionmodified">New in version 2015.2.0.</span></p>
                              
                              <aside class="note "><span class="glyphicon glyphicon-check"></span><span class="title">Note:</span> 
                                 <p class="p">The <tt class="ph tt">python-gnupg</tt> library and gpg binary are
                                    required to be installed.
                                 </p>
                                 
                              </aside>
                              
                           </div>
                           
                        </div>
                        
                        <div xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" class="related-links"></div>
                        <div class="topic reference nested1" id="salt.modules.gpg.create_key">
                           <h2 class="title topictitle2">create_key</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.gpg.create_key(
								key_type='RSA',
								key_length=1024,
								name_real='Autogenerated Key',
								name_comment='Generated by SaltStack',
								name_email=None,
								subkey_type=None,
								subkey_length=None,
								expire_date=None,
								use_passphrase=False,
								user=None
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Create a key in the GPG keychain</p>
                                 
                                 <aside class="note "><span class="glyphicon glyphicon-check"></span><span class="title">Note:</span> 
                                    <p class="p">GPG key generation requires <em class="ph i">a lot</em> of entropy and randomness.
                                       Difficult to do over a remote connection, consider having another
                                       process available which is generating randomness for the machine.
                                       Also especially difficult on virtual machines, consider the rpg-tools
                                       package.
                                    </p>
                                    
                                    <p class="p">The create_key process takes awhile so increasing the timeout
                                       may be necessary, e.g. -t 15.
                                    </p>
                                    
                                 </aside>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d116130e64" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d116130e66" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e64" class="stentry propvalue">key_type</td>
                                    
                                    <td valign="top" headers="d116130e66" class="stentry propdesc">
                                       <p class="p">The type of the primary key to generate. It must be capable of signing.
                                          'RSA' or 'DSA'.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e64" class="stentry propvalue">key_length</td>
                                    
                                    <td valign="top" headers="d116130e66" class="stentry propdesc">
                                       <p class="p">The length of the primary key in bits.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e64" class="stentry propvalue">name_real</td>
                                    
                                    <td valign="top" headers="d116130e66" class="stentry propdesc">
                                       <p class="p">The real name of the user identity which is represented by the key.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e64" class="stentry propvalue">name_comment</td>
                                    
                                    <td valign="top" headers="d116130e66" class="stentry propdesc">
                                       <p class="p">A comment to attach to the user id.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e64" class="stentry propvalue">name_email</td>
                                    
                                    <td valign="top" headers="d116130e66" class="stentry propdesc">
                                       <p class="p">An email address for the user.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e64" class="stentry propvalue">subkey_type</td>
                                    
                                    <td valign="top" headers="d116130e66" class="stentry propdesc">
                                       <p class="p">The type of the secondary key to generate.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e64" class="stentry propvalue">subkey_length</td>
                                    
                                    <td valign="top" headers="d116130e66" class="stentry propdesc">
                                       <p class="p">The length of the secondary key in bits.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e64" class="stentry propvalue">expire_date</td>
                                    
                                    <td valign="top" headers="d116130e66" class="stentry propdesc">
                                       <p class="p">The expiration date for the primary and any secondary key.
                                          You can specify an ISO date, A number of days/weeks/months/years,
                                          an epoch value, or 0 for a non-expiring key.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e64" class="stentry propvalue">use_passphrase</td>
                                    
                                    <td valign="top" headers="d116130e66" class="stentry propdesc">
                                       <p class="p">Whether to use a passphrase with the signing key.  Passphrase is received from pillar.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e64" class="stentry propvalue">user</td>
                                    
                                    <td valign="top" headers="d116130e66" class="stentry propdesc">
                                       <p class="p">Which user's keychain to access, defaults to user Salt is running as.  Passing
                                          the user as 'salt' will set the GPG home directory to /etc/salt/gpg.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt -t 15 '*' gpg.create_key</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.gpg.decrypt">
                           <h2 class="title topictitle2">decrypt</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.gpg.decrypt(
								user=None,
								text=None,
								filename=None,
								output=None,
								use_passphrase=False
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Decrypt a message or file</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d116130e163" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d116130e165" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e163" class="stentry propvalue">user</td>
                                    
                                    <td valign="top" headers="d116130e165" class="stentry propdesc">
                                       <p class="p">Which user's keychain to access, defaults to user Salt is running as.  Passing
                                          the user as 'salt' will set the GPG home directory to /etc/salt/gpg.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e163" class="stentry propvalue">text</td>
                                    
                                    <td valign="top" headers="d116130e165" class="stentry propdesc">
                                       <p class="p">The encrypted text to decrypt.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e163" class="stentry propvalue">filename</td>
                                    
                                    <td valign="top" headers="d116130e165" class="stentry propdesc">
                                       <p class="p">The encrypted filename to decrypt.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e163" class="stentry propvalue">output</td>
                                    
                                    <td valign="top" headers="d116130e165" class="stentry propdesc">
                                       <p class="p">The filename where the decrypted data will be written, default is standard out.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e163" class="stentry propvalue">use_passphrase</td>
                                    
                                    <td valign="top" headers="d116130e165" class="stentry propdesc">
                                       <p class="p">Whether to use a passphrase with the signing key.  Passphrase is received from pillar.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' gpg.decrypt filename='/path/to/important.file.gpg'

salt '*' gpg.decrypt filename='/path/to/important.file.gpg' use_pasphrase=True</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.gpg.delete_key">
                           <h2 class="title topictitle2">delete_key</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.gpg.delete_key(
								keyid=None,
								fingerprint=None,
								delete_secret=False,
								user=None
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Get a key from the GPG keychain</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d116130e232" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d116130e234" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e232" class="stentry propvalue">keyid</td>
                                    
                                    <td valign="top" headers="d116130e234" class="stentry propdesc">
                                       <p class="p">The keyid of the key to be deleted.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e232" class="stentry propvalue">fingerprint</td>
                                    
                                    <td valign="top" headers="d116130e234" class="stentry propdesc">
                                       <p class="p">The fingerprint of the key to be deleted.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e232" class="stentry propvalue">delete_secret</td>
                                    
                                    <td valign="top" headers="d116130e234" class="stentry propdesc">
                                       <p class="p">Whether to delete a corresponding secret key prior to deleting the public key.
                                          Secret keys must be deleted before deleting any corresponding public keys.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e232" class="stentry propvalue">user</td>
                                    
                                    <td valign="top" headers="d116130e234" class="stentry propdesc">
                                       <p class="p">Which user's keychain to access, defaults to user Salt is running as.  Passing
                                          the user as 'salt' will set the GPG home directory to /etc/salt/gpg.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' gpg.delete_key keyid=3FAD9F1E

salt '*' gpg.delete_key fingerprint=53C96788253E58416D20BCD352952C84C3252192

salt '*' gpg.delete_key keyid=3FAD9F1E user=username

salt '*' gpg.delete_key keyid=3FAD9F1E user=username delete_secret=True</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.gpg.encrypt">
                           <h2 class="title topictitle2">encrypt</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.gpg.encrypt(
								user=None,
								recipients=None,
								text=None,
								filename=None,
								output=None,
								sign=None,
								use_passphrase=False
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Encrypt a message or file</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d116130e295" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d116130e297" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e295" class="stentry propvalue">user</td>
                                    
                                    <td valign="top" headers="d116130e297" class="stentry propdesc">
                                       <p class="p">Which user's keychain to access, defaults to user Salt is running as.  Passing
                                          the user as 'salt' will set the GPG home directory to /etc/salt/gpg.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e295" class="stentry propvalue">recipients</td>
                                    
                                    <td valign="top" headers="d116130e297" class="stentry propdesc">
                                       <p class="p">The fingerprints for those recipient whom the data is being encrypted for.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e295" class="stentry propvalue">text</td>
                                    
                                    <td valign="top" headers="d116130e297" class="stentry propdesc">
                                       <p class="p">The text to encrypt.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e295" class="stentry propvalue">filename</td>
                                    
                                    <td valign="top" headers="d116130e297" class="stentry propdesc">
                                       <p class="p">The filename to encrypt.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e295" class="stentry propvalue">output</td>
                                    
                                    <td valign="top" headers="d116130e297" class="stentry propdesc">
                                       <p class="p">The filename where the signed file will be written, default is standard out.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e295" class="stentry propvalue">sign</td>
                                    
                                    <td valign="top" headers="d116130e297" class="stentry propdesc">
                                       <p class="p">Whether to sign, in addition to encrypt, the data.  True to use default key or fingerprint
                                          to specify a different key to sign with.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e295" class="stentry propvalue">use_passphrase</td>
                                    
                                    <td valign="top" headers="d116130e297" class="stentry propdesc">
                                       <p class="p">Whether to use a passphrase with the signing key.  Passphrase is received from pillar.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' gpg.encrypt text='Hello there.  How are you?'

salt '*' gpg.encrypt filename='/path/to/important.file'

salt '*' gpg.encrypt filename='/path/to/important.file' use_pasphrase=True</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.gpg.export_key">
                           <h2 class="title topictitle2">export_key</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.gpg.export_key(
								keyids=None,
								secret=False,
								user=None
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Export a key from the GPG keychain</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d116130e376" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d116130e378" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e376" class="stentry propvalue">keyids</td>
                                    
                                    <td valign="top" headers="d116130e378" class="stentry propdesc">
                                       <p class="p">The keyid(s) of the key(s) to be exported.  Can be specified as a comma
                                          separated string or a list.  Anything which GnuPG itself accepts to
                                          identify a key - for example, the keyid or the fingerprint could be used.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e376" class="stentry propvalue">secret</td>
                                    
                                    <td valign="top" headers="d116130e378" class="stentry propdesc">
                                       <p class="p">Export the secret key identified by the keyid information passed.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e376" class="stentry propvalue">user</td>
                                    
                                    <td valign="top" headers="d116130e378" class="stentry propdesc">
                                       <p class="p">Which user's keychain to access, defaults to user Salt is running as.  Passing
                                          the user as 'salt' will set the GPG home directory to /etc/salt/gpg.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' gpg.export_key keyids=3FAD9F1E

salt '*' gpg.export_key keyids=3FAD9F1E secret=True

salt '*' gpg.export_key keyid="['3FAD9F1E','3FBD8F1E']" user=username</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.gpg.get_key">
                           <h2 class="title topictitle2">get_key</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.gpg.get_key(
								keyid=None,
								fingerprint=None,
								user=None
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Get a key from the GPG keychain</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d116130e433" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d116130e435" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e433" class="stentry propvalue">keyid</td>
                                    
                                    <td valign="top" headers="d116130e435" class="stentry propdesc">
                                       <p class="p">The keyid of the key to be retrieved.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e433" class="stentry propvalue">fingerprint</td>
                                    
                                    <td valign="top" headers="d116130e435" class="stentry propdesc">
                                       <p class="p">The fingerprint of the key to be retrieved.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e433" class="stentry propvalue">user</td>
                                    
                                    <td valign="top" headers="d116130e435" class="stentry propdesc">
                                       <p class="p">Which user's keychain to access, defaults to user Salt is running as.  Passing
                                          the user as 'salt' will set the GPG home directory to /etc/salt/gpg.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' gpg.get_key keyid=3FAD9F1E

salt '*' gpg.get_key fingerprint=53C96788253E58416D20BCD352952C84C3252192

salt '*' gpg.get_key keyid=3FAD9F1E user=username</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.gpg.get_secret_key">
                           <h2 class="title topictitle2">get_secret_key</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.gpg.get_secret_key(
								keyid=None,
								fingerprint=None,
								user=None
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Get a key from the GPG keychain</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d116130e490" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d116130e492" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e490" class="stentry propvalue">keyid</td>
                                    
                                    <td valign="top" headers="d116130e492" class="stentry propdesc">
                                       <p class="p">The keyid of the key to be retrieved.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e490" class="stentry propvalue">fingerprint</td>
                                    
                                    <td valign="top" headers="d116130e492" class="stentry propdesc">
                                       <p class="p">The fingerprint of the key to be retrieved.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e490" class="stentry propvalue">user</td>
                                    
                                    <td valign="top" headers="d116130e492" class="stentry propdesc">
                                       <p class="p">Which user's keychain to access, defaults to user Salt is running as.  Passing
                                          the user as 'salt' will set the GPG home directory to /etc/salt/gpg.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' gpg.get_secret_key keyid=3FAD9F1E

salt '*' gpg.get_secret_key fingerprint=53C96788253E58416D20BCD352952C84C3252192

salt '*' gpg.get_secret_key keyid=3FAD9F1E user=username</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.gpg.import_key">
                           <h2 class="title topictitle2">import_key</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.gpg.import_key(
								user=None,
								text=None,
								filename=None
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <blockquote class="lq">
                                    <p class="p">Import a key from text or file</p>
                                    
                                    <dl class="dl definition_list">
                                       <dt class="dt dlterm">user</dt>
                                       
                                       <dd class="dd">
                                          <p class="p">Which user's keychain to access, defaults to user Salt is running as.  Passing
                                             the user as 'salt' will set the GPG home directory to /etc/salt/gpg.
                                          </p>
                                          
                                       </dd>
                                       
                                       <dt class="dt dlterm">text</dt>
                                       
                                       <dd class="dd">
                                          <p class="p">The text containing to import.</p>
                                          
                                       </dd>
                                       
                                       <dt class="dt dlterm">filename</dt>
                                       
                                       <dd class="dd">
                                          <p class="p">The filename containing the key to import.</p>
                                          
                                       </dd>
                                       
                                    </dl>
                                    
                                    <p class="p">CLI Example:</p>
                                    <pre class="pre codeblock language-bash">salt '*' gpg.import_key text='-----BEGIN PGP PUBLIC KEY BLOCK-----</pre>
                                    </blockquote>
                                 
                                 <p class="p">... -----END PGP PUBLIC KEY BLOCK-----'</p>
                                 
                                 <blockquote class="lq">
                                    <p class="p">salt '*' gpg.import_key filename='/path/to/public-key-file'</p>
                                    
                                 </blockquote>
                                 
                              </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.gpg.list_keys">
                           <h2 class="title topictitle2">list_keys</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.gpg.list_keys(
								user=None
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">List keys in GPG keychain</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d116130e602" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d116130e604" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e602" class="stentry propvalue">user</td>
                                    
                                    <td valign="top" headers="d116130e604" class="stentry propdesc">
                                       <p class="p">Which user's keychain to access, defaults to user Salt is running as.  Passing
                                          the user as 'salt' will set the GPG home directory to /etc/salt/gpg.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' gpg.list_keys</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.gpg.list_secret_keys">
                           <h2 class="title topictitle2">list_secret_keys</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.gpg.list_secret_keys(
								user=None
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">List secret keys in GPG keychain</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d116130e647" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d116130e649" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e647" class="stentry propvalue">user</td>
                                    
                                    <td valign="top" headers="d116130e649" class="stentry propdesc">
                                       <p class="p">Which user's keychain to access, defaults to user Salt is running as.  Passing
                                          the user as 'salt' will set the GPG home directory to /etc/salt/gpg.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' gpg.list_secret_keys</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.gpg.receive_keys">
                           <h2 class="title topictitle2">receive_keys</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.gpg.receive_keys(
								keyserver=None,
								keys=None,
								user=None
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Receive key(s) from keyserver and add them to keychain</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d116130e692" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d116130e694" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e692" class="stentry propvalue">keyserver</td>
                                    
                                    <td valign="top" headers="d116130e694" class="stentry propdesc">
                                       <p class="p">Keyserver to use for searching for GPG keys, defaults to pgp.mit.edu</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e692" class="stentry propvalue">keys</td>
                                    
                                    <td valign="top" headers="d116130e694" class="stentry propdesc">
                                       <p class="p">The keyID(s) to retrieve from the keyserver.  Can be specified as a comma
                                          separated string or a list.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e692" class="stentry propvalue">user</td>
                                    
                                    <td valign="top" headers="d116130e694" class="stentry propdesc">
                                       <p class="p">Which user's keychain to access, defaults to user Salt is running as.  Passing
                                          the user as 'salt' will set the GPG home directory to /etc/salt/gpg.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' gpg.receive_key keys='3FAD9F1E'

salt '*' gpg.receive_key keys="['3FAD9F1E','3FBD9F2E']"

salt '*' gpg.receive_key keys=3FAD9F1E user=username</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.gpg.search_keys">
                           <h2 class="title topictitle2">search_keys</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.gpg.search_keys(
								text,
								keyserver=None,
								user=None
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Search keys from keyserver</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d116130e749" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d116130e751" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e749" class="stentry propvalue">text</td>
                                    
                                    <td valign="top" headers="d116130e751" class="stentry propdesc">
                                       <p class="p">Text to search the keyserver for, e.g. email address, keyID or fingerprint.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e749" class="stentry propvalue">keyserver</td>
                                    
                                    <td valign="top" headers="d116130e751" class="stentry propdesc">
                                       <p class="p">Keyserver to use for searching for GPG keys, defaults to pgp.mit.edu</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e749" class="stentry propvalue">user</td>
                                    
                                    <td valign="top" headers="d116130e751" class="stentry propdesc">
                                       <p class="p">Which user's keychain to access, defaults to user Salt is running as.  Passing
                                          the user as 'salt' will set the GPG home directory to /etc/salt/gpg.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' gpg.search_keys user@example.com

salt '*' gpg.search_keys user@example.com keyserver=keyserver.ubuntu.com

salt '*' gpg.search_keys user@example.com keyserver=keyserver.ubuntu.com user=username</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.gpg.sign">
                           <h2 class="title topictitle2">sign</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.gpg.sign(
								user=None,
								keyid=None,
								text=None,
								filename=None,
								output=None,
								use_passphrase=False
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Sign message or file</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d116130e806" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d116130e808" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e806" class="stentry propvalue">user</td>
                                    
                                    <td valign="top" headers="d116130e808" class="stentry propdesc">
                                       <p class="p">Which user's keychain to access, defaults to user Salt is running as.  Passing
                                          the user as 'salt' will set the GPG home directory to /etc/salt/gpg.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e806" class="stentry propvalue">keyid</td>
                                    
                                    <td valign="top" headers="d116130e808" class="stentry propdesc">
                                       <p class="p">The keyid of the key to set the trust level for, defaults to
                                          first key in the secret keyring.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e806" class="stentry propvalue">text</td>
                                    
                                    <td valign="top" headers="d116130e808" class="stentry propdesc">
                                       <p class="p">The text to sign.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e806" class="stentry propvalue">filename</td>
                                    
                                    <td valign="top" headers="d116130e808" class="stentry propdesc">
                                       <p class="p">The filename to sign.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e806" class="stentry propvalue">output</td>
                                    
                                    <td valign="top" headers="d116130e808" class="stentry propdesc">
                                       <p class="p">The filename where the signed file will be written, default is standard out.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e806" class="stentry propvalue">use_passphrase</td>
                                    
                                    <td valign="top" headers="d116130e808" class="stentry propdesc">
                                       <p class="p">Whether to use a passphrase with the signing key.  Passphrase is received from pillar.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' gpg.sign text='Hello there.  How are you?'

salt '*' gpg.sign filename='/path/to/important.file'

salt '*' gpg.sign filename='/path/to/important.file' use_pasphrase=True</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.gpg.trust_key">
                           <h2 class="title topictitle2">trust_key</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.gpg.trust_key(
								keyid=None,
								fingerprint=None,
								trust_level=None,
								user=None
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Set the trust level for a key in GPG keychain</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d116130e881" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d116130e883" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e881" class="stentry propvalue">keyid</td>
                                    
                                    <td valign="top" headers="d116130e883" class="stentry propdesc">
                                       <p class="p">The keyid of the key to set the trust level for.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e881" class="stentry propvalue">fingerprint</td>
                                    
                                    <td valign="top" headers="d116130e883" class="stentry propdesc">
                                       <p class="p">The fingerprint of the key to set the trust level for.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e881" class="stentry propvalue">trust_level</td>
                                    
                                    <td valign="top" headers="d116130e883" class="stentry propdesc">
                                       <p class="p">The trust level to set for the specified key, must be one
                                          of the following:
                                       </p>
                                       
                                       <blockquote class="lq">
                                          <p class="p">expired, unknown, not_trusted, marginally, fully, ultimately</p>
                                          
                                       </blockquote>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e881" class="stentry propvalue">user</td>
                                    
                                    <td valign="top" headers="d116130e883" class="stentry propdesc">
                                       <p class="p">Which user's keychain to access, defaults to user Salt is running as.  Passing
                                          the user as 'salt' will set the GPG home directory to /etc/salt/gpg.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' gpg.trust_key keyid='3FAD9F1E' trust_level='marginally'

salt '*' gpg.trust_key fingerprint='53C96788253E58416D20BCD352952C84C3252192' trust_level='not_trusted'

salt '*' gpg.trust_key keys=3FAD9F1E trust_level='ultimately' user='username'</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.gpg.verify">
                           <h2 class="title topictitle2">verify</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.gpg.verify(
								text=None,
								user=None,
								filename=None
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Verify a message or file</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d116130e947" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d116130e949" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e947" class="stentry propvalue">text</td>
                                    
                                    <td valign="top" headers="d116130e949" class="stentry propdesc">
                                       <p class="p">The text to verify.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e947" class="stentry propvalue">filename</td>
                                    
                                    <td valign="top" headers="d116130e949" class="stentry propdesc">
                                       <p class="p">The filename to verify.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d116130e947" class="stentry propvalue">user</td>
                                    
                                    <td valign="top" headers="d116130e949" class="stentry propdesc">
                                       <p class="p">Which user's keychain to access, defaults to user Salt is running as.  Passing
                                          the user as 'salt' will set the GPG home directory to /etc/salt/gpg.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' gpg.verify text='Hello there.  How are you?'

salt '*' gpg.verify filename='/path/to/important.file'

salt '*' gpg.verify filename='/path/to/important.file' use_pasphrase=True</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                     </div>
                     <button id="next-button" type="button" class="btn btn-primary">
                        Next <span class="glyphicon glyphicon-chevron-right"></span></button><div class="footer">

                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>