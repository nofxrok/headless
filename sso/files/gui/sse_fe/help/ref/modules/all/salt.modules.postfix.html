<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>salt.modules.postfix</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="schema.DC" href="http://purl.org/dc/terms/">
      <meta name="DC.Type" content="reference">
      
      <meta name="DC.Title" content="salt.modules.postfix">
      
      <meta name="DC.Relation" scheme="URI" content="../../exe-modules.html">
      
      <meta name="DC.Format" content="XHTML">
      
      <meta name="DC.Identifier" content="salt-modules-postfix">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/gui/css/core.min.css">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/gui/css/webhelp.min.css">
      <script type="text/javascript" src="../../../themes/gui/js/webhelp.min.js"></script>
      </head>
   <body>
      <div id="wrapper">
         <!--ZOOMSTOP-->
         <div id="sidebar-wrapper" class="reference dynamic-toc"></div>
         <!--ZOOMRESTART-->
         <div id="page-content-wrapper">
            <div class="container-fluid">
               <div class="row">
                  <div class="col-lg-12">
                     <div class="page reference  - topic-topic       reference-reference " id="salt-modules-postfix">
                        <!--ZOOMSTOP--><a href="#menu-toggle" class="btn btn-primary" id="menu-toggle">Toggle Menu</a><!--ZOOMRESTART--><h1 class="title topictitle1">salt.modules.postfix</h1>
                        <div class="body refbody">
                           <div class="section">
                              <p class="p ids"><span class="ph" id="salt-modules-postfix__module-salt.modules.postfix"></span></p>
                              
                              <p class="p">Support for Postfix</p>
                              
                              <p class="p">This module is currently little more than a config file viewer and editor. It
                                 is able to read the master.cf file (which is one style) and files in the style
                                 of main.cf (which is a different style, that is used in multiple postfix
                                 configuration files).
                              </p>
                              
                              <p class="p">The design of this module is such that when files are edited, a minimum of
                                 changes are made to them. Each file should look as if it has been edited by
                                 hand; order, comments and whitespace are all preserved.
                              </p>
                              
                           </div>
                           
                        </div>
                        
                        <div xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" class="related-links"></div>
                        <div class="topic reference nested1" id="salt.modules.postfix.delete">
                           <h2 class="title topictitle2">delete</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.postfix.delete(
								queue_id
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Delete message(s) from the mail queue</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' postfix.delete 5C33CA0DEA

salt '*' postfix.delete ALL</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.postfix.hold">
                           <h2 class="title topictitle2">hold</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.postfix.hold(
								queue_id
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Put message(s) on hold from the mail queue</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' postfix.hold 5C33CA0DEA

salt '*' postfix.hold ALL</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.postfix.requeue">
                           <h2 class="title topictitle2">requeue</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.postfix.requeue(
								queue_id
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Requeue message(s) in the mail queue</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' postfix.requeue 5C33CA0DEA

salt '*' postfix.requeue ALL</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.postfix.set_main">
                           <h2 class="title topictitle2">set_main</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.postfix.set_main(
								key,
								value,
								path='/etc/postfix/main.cf'
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Set a single config value in the main.cf file. If the value does not already
                                    exist, it will be appended to the end.
                                 </p>
                                 
                                 <p class="p">CLI Example:</p>
                                 
                                 <blockquote class="lq">
                                    <p class="p">salt &lt;minion&gt; postfix.set_main mailq_path /usr/bin/mailq</p>
                                    
                                 </blockquote>
                                 
                              </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.postfix.set_master">
                           <h2 class="title topictitle2">set_master</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.postfix.set_master(
								service,
								conn_type,
								private='y',
								unpriv='y',
								chroot='y',
								wakeup='n',
								maxproc='100',
								command='',
								write_conf=True,
								path='/etc/postfix/master.cf'
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Set a single config value in the master.cf file. If the value does not
                                    already exist, it will be appended to the end.
                                 </p>
                                 
                                 <p class="p">Because of shell parsing issues, '-' cannot be set as a value, as is normal
                                    in the master.cf file; either 'y', 'n' or a number should be used when
                                    calling this function from the command line. If the value used matches the
                                    default, it will internally be converted to a '-'. Calling this function
                                    from the Python API is not affected by this limitation
                                 </p>
                                 
                                 <p class="p">The settings and their default values, in order, are: service (required),
                                    conn_type (required), private (y), unpriv (y), chroot (y), wakeup (n),
                                    maxproc (100), command (required).
                                 </p>
                                 
                                 <p class="p">By default, this function will write out the changes to the master.cf file,
                                    and then returns the full contents of the file. By setting the
                                    <tt class="ph tt">write_conf</tt> option to <tt class="ph tt">False</tt>, it will skip writing the file.
                                 </p>
                                 
                                 <p class="p">CLI Example:</p>
                                 
                                 <blockquote class="lq">
                                    <p class="p">salt &lt;minion&gt; postfix.set_master smtp inet n y n n 100 smtpd</p>
                                    
                                 </blockquote>
                                 
                              </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.postfix.show_main">
                           <h2 class="title topictitle2">show_main</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.postfix.show_main(
								path='/etc/postfix/main.cf'
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Return a dict of active config values. This does not include comments,
                                    spacing or order. Bear in mind that order is functionally important in the
                                    main.cf file, since keys can be referred to as variables. This means that
                                    the data returned from this function should not be used for direct
                                    modification of the main.cf file; other functions are available for that.
                                 </p>
                                 
                                 <p class="p">CLI Examples:</p>
                                 
                                 <blockquote class="lq">
                                    <p class="p">salt &lt;minion&gt; postfix.show_main
                                       salt &lt;minion&gt; postfix.show_main path=/path/to/main.cf
                                    </p>
                                    
                                 </blockquote>
                                 
                              </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.postfix.show_master">
                           <h2 class="title topictitle2">show_master</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.postfix.show_master(
								path='/etc/postfix/master.cf'
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Return a dict of active config values. This does not include comments,
                                    spacing or order.
                                 </p>
                                 
                                 <p class="p">The data returned from this function should not be used for direct
                                    modification of the main.cf file; other functions are available for that.
                                 </p>
                                 
                                 <p class="p">CLI Examples:</p>
                                 
                                 <blockquote class="lq">
                                    <p class="p">salt &lt;minion&gt; postfix.show_master
                                       salt &lt;minion&gt; postfix.show_master path=/path/to/master.cf
                                    </p>
                                    
                                 </blockquote>
                                 
                              </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.postfix.show_queue">
                           <h2 class="title topictitle2">show_queue</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.postfix.show_queue( )</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Show contents of the mail queue</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' postfix.show_queue</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.postfix.unhold">
                           <h2 class="title topictitle2">unhold</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.postfix.unhold(
								queue_id
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Set held message(s) in the mail queue to unheld</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' postfix.unhold 5C33CA0DEA

salt '*' postfix.unhold ALL</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                     </div>
                     <button id="next-button" type="button" class="btn btn-primary">
                        Next <span class="glyphicon glyphicon-chevron-right"></span></button><div class="footer">

                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>