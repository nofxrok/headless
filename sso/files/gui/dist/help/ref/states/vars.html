<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>SLS Template Variable Reference</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="schema.DC" href="http://purl.org/dc/terms/">
      <meta name="DC.Type" content="reference">
      
      <meta name="DC.Title" content="SLS Template Variable Reference">
      
      <meta name="DC.Relation" scheme="URI" content="index.html">
      
      <meta name="DC.Format" content="XHTML">
      
      <meta name="DC.Identifier" content="sls-template-variable-reference">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../themes/gui/css/core.min.css">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../themes/gui/css/webhelp.min.css">
      <script type="text/javascript" src="../../themes/gui/js/webhelp.min.js"></script>
      </head>
   <body>
      <div id="wrapper">
         <!--ZOOMSTOP-->
         <div id="sidebar-wrapper" class="reference dynamic-toc"></div>
         <!--ZOOMRESTART-->
         <div id="page-content-wrapper">
            <div class="container-fluid">
               <div class="row">
                  <div class="col-lg-12">
                     <div class="page reference  - topic-topic       reference-reference " id="sls-template-variable-reference">
                        <!--ZOOMSTOP--><a href="#menu-toggle" class="btn btn-primary" id="menu-toggle">Toggle Menu</a><!--ZOOMRESTART--><h1 class="title topictitle1">SLS Template Variable Reference</h1>
                        <div class="body refbody">
                           <div class="section">
                              <p class="p">The template engines available to sls files and file templates come loaded
                                 with a number of context variables. These variables contain information and
                                 functions to assist in the generation of templates.  See each variable below
                                 for its availability -- not all variables are available in all templating
                                 contexts.
                              </p>
                              
                           </div>
                           
                           <div class="section" id="sls-template-variable-reference__salt">
                              <h2 class="title sectiontitle">Salt</h2>
                              <p class="p">The <span class="keyword title_reference">salt</span> variable is available to abstract the salt library functions. This
                                 variable is a python dictionary containing all of the functions available to
                                 the running salt minion.  It is available in all salt templates.
                              </p>
                              <pre class="pre codeblock language-python jinja">{% for file in salt['cmd.run']('ls -1 /opt/to_remove').splitlines() %}
/opt/to_remove/{{ file }}:
  file.absent
{% endfor %}</pre>
                              </div>
                           
                           <div class="section" id="sls-template-variable-reference__opts">
                              <h2 class="title sectiontitle">Opts</h2>
                              <p class="p">The <span class="keyword title_reference">opts</span> variable abstracts the contents of the minion's configuration file
                                 directly to the template. The <span class="keyword title_reference">opts</span> variable is a dictionary.  It is available
                                 in all templates.
                              </p>
                              <pre class="pre codeblock language-python jinja">{{ opts['cachedir'] }}</pre>
                              <p class="p">The <tt class="ph tt">config.get</tt> function also searches for values in the <span class="keyword title_reference">opts</span> dictionary.
                              </p>
                              
                           </div>
                           
                           <div class="section" id="sls-template-variable-reference__pillar">
                              <h2 class="title sectiontitle">Pillar</h2>
                              <p class="p">The <span class="keyword title_reference">pillar</span> dictionary can be referenced directly, and is available in all
                                 templates:
                              </p>
                              <pre class="pre codeblock language-python jinja">{{ pillar['key'] }}</pre>
                              <p class="p">Using the <tt class="ph tt">pillar.get</tt> function via the <span class="keyword title_reference">salt</span> variable is generally
                                 recommended since a default can be safely set in the event that the value
                                 is not available in pillar and dictionaries can be traversed directly:
                              </p>
                              <pre class="pre codeblock language-python jinja">{{ salt['pillar.get']('key', 'failover_value') }}
{{ salt['pillar.get']('stuff:more:deeper') }}</pre>
                              </div>
                           
                           <div class="section" id="sls-template-variable-reference__grains">
                              <h2 class="title sectiontitle">Grains</h2>
                              <p class="p">The <span class="keyword title_reference">grains</span> dictionary makes the minion's grains directly available, and is
                                 available in all templates:
                              </p>
                              <pre class="pre codeblock language-python jinja">{{ grains['os'] }}</pre>
                              <p class="p">The <tt class="ph tt">grains.get</tt> function can be used to traverse deeper grains and set
                                 defaults:
                              </p>
                              <pre class="pre codeblock language-python jinja">{{ salt['grains.get']('os') }}</pre>
                              </div>
                           
                           <div class="section" id="sls-template-variable-reference__env">
                              <h2 class="title sectiontitle">env</h2>
                              <p class="p">The <span class="keyword title_reference">env</span> variable is available in only in sls files when gathering the sls
                                 from an environment.
                              </p>
                              <pre class="pre codeblock language-python jinja">{{ env }}</pre>
                              </div>
                           
                           <div class="section" id="sls-template-variable-reference__sls">
                              <h2 class="title sectiontitle">sls</h2>
                              <p class="p">The <span class="keyword title_reference">sls</span> variable contains the sls reference value, and is only available in
                                 the actual SLS file (not in any files referenced in that SLS). The sls
                                 reference value is the value used to include the sls in top files or via the
                                 include option.
                              </p>
                              <pre class="pre codeblock language-python jinja">{{ sls }}</pre>
                              </div>
                           
                        </div>
                        
                        <div xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" class="related-links"></div>
                     </div>
                     <button id="next-button" type="button" class="btn btn-primary">
                        Next <span class="glyphicon glyphicon-chevron-right"></span></button><div class="footer">

                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>