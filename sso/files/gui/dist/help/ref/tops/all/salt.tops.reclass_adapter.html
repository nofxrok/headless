<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>salt.tops.reclass_adapter</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="schema.DC" href="http://purl.org/dc/terms/">
      <meta name="DC.Type" content="reference">
      
      <meta name="DC.Title" content="salt.tops.reclass_adapter">
      
      <meta name="DC.Relation" scheme="URI" content="../../tops.html">
      
      <meta name="DC.Format" content="XHTML">
      
      <meta name="DC.Identifier" content="salt-tops-reclass-adapter">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/gui/css/core.min.css">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/gui/css/webhelp.min.css">
      <script type="text/javascript" src="../../../themes/gui/js/webhelp.min.js"></script>
      </head>
   <body>
      <div id="wrapper">
         <!--ZOOMSTOP-->
         <div id="sidebar-wrapper" class="reference dynamic-toc"></div>
         <!--ZOOMRESTART-->
         <div id="page-content-wrapper">
            <div class="container-fluid">
               <div class="row">
                  <div class="col-lg-12">
                     <div class="page reference  - topic-topic       reference-reference " id="salt-tops-reclass-adapter">
                        <!--ZOOMSTOP--><a href="#menu-toggle" class="btn btn-primary" id="menu-toggle">Toggle Menu</a><!--ZOOMRESTART--><h1 class="title topictitle1">salt.tops.reclass_adapter</h1>
                        <div class="body refbody">
                           <div class="section">
                              <p class="p ids"><span class="ph" id="salt-tops-reclass-adapter__module-salt.tops.reclass_adapter"></span></p>
                              
                              <p class="p">Read tops data from a reclass database</p>
                              
                              <p class="p">This 
                                 		
                                 			&nbsp;<a class="xref" href="../../../topics/master_tops/index.html#master-tops-system">master_tops</a> plugin provides access to
                                 the <strong class="ph b">reclass</strong> database, such that state information (top data) are retrieved
                                 from <strong class="ph b">reclass</strong>.
                              </p>
                              
                              <p class="p">You can find more information about <strong class="ph b">reclass</strong> at
                                 <a class="xref" href="http://reclass.pantsfullofunix.net" target="_blank">http://reclass.pantsfullofunix.net</a>.
                              </p>
                              
                              <p class="p">To use the plugin, add it to the <tt class="ph tt">master_tops</tt> list in the Salt master config
                                 and tell <strong class="ph b">reclass</strong> by way of a few options how and where to find the
                                 inventory:
                              </p>
                              <pre class="pre codeblock language-yaml">master_tops:
  reclass:
    storage_type: yaml_fs
    inventory_base_uri: /srv/salt</pre>
                              <p class="p">This would cause <strong class="ph b">reclass</strong> to read the inventory from YAML files in
                                 <tt class="ph tt">/srv/salt/nodes</tt> and <tt class="ph tt">/srv/salt/classes</tt>.
                              </p>
                              
                              <p class="p">If you are also using <strong class="ph b">reclass</strong> as <tt class="ph tt">ext_pillar</tt> plugin, and you want to
                                 avoid having to specify the same information for both, use YAML anchors (take
                                 note of the differing data types for <tt class="ph tt">ext_pillar</tt> and <tt class="ph tt">master_tops</tt>):
                              </p>
                              <pre class="pre codeblock language-yaml">reclass: &amp;reclass
  storage_type: yaml_fs
  inventory_base_uri: /srv/salt
  reclass_source_path: ~/code/reclass

ext_pillar:
  - reclass: *reclass

master_tops:
  reclass: *reclass</pre>
                              <p class="p">If you want to run reclass from source, rather than installing it, you can
                                 either let the master know via the <tt class="ph tt">PYTHONPATH</tt> environment variable, or by
                                 setting the configuration option, like in the example above.
                              </p>
                              
                           </div>
                           
                        </div>
                        
                        <div xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" class="related-links"></div>
                        <div class="topic reference nested1" id="salt.tops.reclass_adapter.top">
                           <h2 class="title topictitle2">top</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.tops.reclass_adapter.top(
								**kwargs
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Query <strong class="ph b">reclass</strong> for the top data (states of the minions).
                                 </p>
                                 
                              </div>
                              
                           </div>
                           
                        </div>
                        
                     </div>
                     <button id="next-button" type="button" class="btn btn-primary">
                        Next <span class="glyphicon glyphicon-chevron-right"></span></button><div class="footer">

                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>