<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>salt.modules.glusterfs</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="schema.DC" href="http://purl.org/dc/terms/">
      <meta name="DC.Type" content="reference">
      
      <meta name="DC.Title" content="salt.modules.glusterfs">
      
      <meta name="DC.Relation" scheme="URI" content="../../exe-modules.html">
      
      <meta name="DC.Format" content="XHTML">
      
      <meta name="DC.Identifier" content="salt-modules-glusterfs">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/gui/css/core.min.css">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/gui/css/webhelp.min.css">
      <script type="text/javascript" src="../../../themes/gui/js/webhelp.min.js"></script>
      </head>
   <body>
      <div id="wrapper">
         <!--ZOOMSTOP-->
         <div id="sidebar-wrapper" class="reference dynamic-toc"></div>
         <!--ZOOMRESTART-->
         <div id="page-content-wrapper">
            <div class="container-fluid">
               <div class="row">
                  <div class="col-lg-12">
                     <div class="page reference  - topic-topic       reference-reference " id="salt-modules-glusterfs">
                        <!--ZOOMSTOP--><a href="#menu-toggle" class="btn btn-primary" id="menu-toggle">Toggle Menu</a><!--ZOOMRESTART--><h1 class="title topictitle1">salt.modules.glusterfs</h1>
                        <div class="body refbody">
                           <div class="section">
                              <p class="p ids"><span class="ph" id="salt-modules-glusterfs__module-salt.modules.glusterfs"></span></p>
                              
                              <p class="p">Manage a glusterfs pool</p>
                              
                           </div>
                           
                        </div>
                        
                        <div xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" class="related-links"></div>
                        <div class="topic reference nested1" id="salt.modules.glusterfs.add_volume_bricks">
                           <h2 class="title topictitle2">add_volume_bricks</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.glusterfs.add_volume_bricks(
								name,
								bricks
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Add brick(s) to an existing volume</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d114261e47" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d114261e49" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d114261e47" class="stentry propvalue">name</td>
                                    
                                    <td valign="top" headers="d114261e49" class="stentry propdesc">
                                       <p class="p">Volume name</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d114261e47" class="stentry propvalue">bricks</td>
                                    
                                    <td valign="top" headers="d114261e49" class="stentry propdesc">
                                       <p class="p">List of bricks to add to the volume</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.glusterfs.create">
                           <h2 class="title topictitle2">create</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.glusterfs.create(
								name,
								bricks,
								stripe=False,
								replica=False,
								device_vg=False,
								transport='tcp',
								start=False
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Create a glusterfs volume.</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d114261e91" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d114261e93" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d114261e91" class="stentry propvalue">name</td>
                                    
                                    <td valign="top" headers="d114261e93" class="stentry propdesc">
                                       <p class="p">Name of the gluster volume</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d114261e91" class="stentry propvalue">bricks</td>
                                    
                                    <td valign="top" headers="d114261e93" class="stentry propdesc">
                                       <p class="p">Bricks to create volume from, in &lt;peer&gt;:&lt;brick path&gt; format. For         multiple
                                          bricks use list format: '["&lt;peer1&gt;:&lt;brick1&gt;",         "&lt;peer2&gt;:&lt;brick2&gt;"]'
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d114261e91" class="stentry propvalue">stripe</td>
                                    
                                    <td valign="top" headers="d114261e93" class="stentry propdesc">
                                       <p class="p">Stripe count, the number of bricks should be a multiple of the stripe         count
                                          for a distributed striped volume
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d114261e91" class="stentry propvalue">replica</td>
                                    
                                    <td valign="top" headers="d114261e93" class="stentry propdesc">
                                       <p class="p">Replica count, the number of bricks should be a multiple of the         replica count
                                          for a distributed replicated volume
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d114261e91" class="stentry propvalue">device_vg</td>
                                    
                                    <td valign="top" headers="d114261e93" class="stentry propdesc">
                                       <p class="p">If true, specifies volume should use block backend instead of regular         posix
                                          backend. Block device backend volume does not support multiple         bricks
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d114261e91" class="stentry propvalue">transport</td>
                                    
                                    <td valign="top" headers="d114261e93" class="stentry propdesc">
                                       <p class="p">Transport protocol to use, can be 'tcp', 'rdma' or 'tcp,rdma'</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d114261e91" class="stentry propvalue">start</td>
                                    
                                    <td valign="top" headers="d114261e93" class="stentry propdesc">
                                       <p class="p">Start the volume after creation</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt host1 glusterfs.create newvolume host1:/brick

salt gluster1 glusterfs.create vol2 '["gluster1:/export/vol2/brick",         "gluster2:/export/vol2/brick"]' replica=2 start=True</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.glusterfs.delete">
                           <h2 class="title topictitle2">delete</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.glusterfs.delete(
								target,
								stop=True
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Deletes a gluster volume</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d114261e172" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d114261e174" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d114261e172" class="stentry propvalue">target</td>
                                    
                                    <td valign="top" headers="d114261e174" class="stentry propdesc">
                                       <p class="p">Volume to delete</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d114261e172" class="stentry propvalue">stop</td>
                                    
                                    <td valign="top" headers="d114261e174" class="stentry propdesc">
                                       <p class="p">Stop volume before delete if it is started, True by default</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.glusterfs.list_peers">
                           <h2 class="title topictitle2">list_peers</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.glusterfs.list_peers( )</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Return a list of gluster peers</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' glusterfs.list_peers</pre>
                                 <p class="p">GLUSTER direct CLI example (to show what salt is sending to gluster):</p>
                                 
                                 <blockquote class="lq">
                                    <p class="p">$ gluster peer status</p>
                                    
                                 </blockquote>
                                 
                                 <p class="p">GLUSTER CLI 3.4.4 return example (so we know what we are parsing):</p>
                                 
                                 <blockquote class="lq">
                                    <p class="p">Number of Peers: 2</p>
                                    
                                    <p class="p">Hostname: ftp2
                                       Port: 24007
                                       Uuid: cbcb256b-e66e-4ec7-a718-21082d396c24
                                       State: Peer in Cluster (Connected)
                                    </p>
                                    
                                    <p class="p">Hostname: ftp3
                                       Uuid: 5ea10457-6cb2-427b-a770-7897509625e9
                                       State: Peer in Cluster (Connected)
                                    </p>
                                    
                                 </blockquote>
                                 
                              </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.glusterfs.list_volumes">
                           <h2 class="title topictitle2">list_volumes</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.glusterfs.list_volumes( )</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">List configured volumes</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' glusterfs.list_volumes</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.glusterfs.peer">
                           <h2 class="title topictitle2">peer</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.glusterfs.peer(
								name
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Add another node into the peer list.</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d114261e288" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d114261e290" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d114261e288" class="stentry propvalue">name</td>
                                    
                                    <td valign="top" headers="d114261e290" class="stentry propdesc">
                                       <p class="p">The remote host to probe.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <p class="p">GLUSTER direct CLI example (to show what salt is sending to gluster):</p>
                                 
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d114261e303" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d114261e305" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d114261e303" class="stentry propvalue">GLUSTER CLI 3.4.4 return example (so we know what we are parsing):</td>
                                    
                                    <td valign="top" headers="d114261e305" class="stentry propdesc">
                                       <p class="p">#if the "peer" is the local host:
                                          peer probe: success: on localhost not needed
                                       </p>
                                       
                                       <p class="p">#if the peer was just added:
                                          peer probe: success
                                       </p>
                                       
                                       <p class="p">#if the peer was already part of the cluster:
                                          peer probe: success: host ftp2 port 24007 already in peer list
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.glusterfs.start_volume">
                           <h2 class="title topictitle2">start_volume</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.glusterfs.start_volume(
								name
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Start a gluster volume.</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d114261e345" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d114261e347" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d114261e345" class="stentry propvalue">name</td>
                                    
                                    <td valign="top" headers="d114261e347" class="stentry propdesc">
                                       <p class="p">Volume name</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' glusterfs.start mycluster</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.glusterfs.status">
                           <h2 class="title topictitle2">status</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.glusterfs.status(
								name
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Check the status of a gluster volume.</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d114261e390" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d114261e392" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d114261e390" class="stentry propvalue">name</td>
                                    
                                    <td valign="top" headers="d114261e392" class="stentry propdesc">
                                       <p class="p">Volume name</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' glusterfs.status myvolume</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.glusterfs.stop_volume">
                           <h2 class="title topictitle2">stop_volume</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.glusterfs.stop_volume(
								name
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Stop a gluster volume.</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d114261e436" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d114261e438" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d114261e436" class="stentry propvalue">name</td>
                                    
                                    <td valign="top" headers="d114261e438" class="stentry propdesc">
                                       <p class="p">Volume name</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' glusterfs.stop_volume mycluster</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                     </div>
                     <button id="next-button" type="button" class="btn btn-primary">
                        Next <span class="glyphicon glyphicon-chevron-right"></span></button><div class="footer">

                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>