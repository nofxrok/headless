<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>salt.modules.config</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="schema.DC" href="http://purl.org/dc/terms/">
      <meta name="DC.Type" content="reference">
      
      <meta name="DC.Title" content="salt.modules.config">
      
      <meta name="DC.Relation" scheme="URI" content="../../exe-modules.html">
      
      <meta name="DC.Format" content="XHTML">
      
      <meta name="DC.Identifier" content="salt-modules-config">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/gui/css/core.min.css">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/gui/css/webhelp.min.css">
      <script type="text/javascript" src="../../../themes/gui/js/webhelp.min.js"></script>
      </head>
   <body>
      <div id="wrapper">
         <!--ZOOMSTOP-->
         <div id="sidebar-wrapper" class="reference dynamic-toc"></div>
         <!--ZOOMRESTART-->
         <div id="page-content-wrapper">
            <div class="container-fluid">
               <div class="row">
                  <div class="col-lg-12">
                     <div class="page reference  - topic-topic       reference-reference " id="salt-modules-config">
                        <!--ZOOMSTOP--><a href="#menu-toggle" class="btn btn-primary" id="menu-toggle">Toggle Menu</a><!--ZOOMRESTART--><h1 class="title topictitle1">salt.modules.config</h1>
                        <div class="body refbody">
                           <div class="section">
                              <p class="p ids"><span class="ph" id="salt-modules-config__module-salt.modules.config"></span></p>
                              
                              <p class="p">Return config information</p>
                              
                           </div>
                           
                        </div>
                        
                        <div xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" class="related-links"></div>
                        <div class="topic reference nested1" id="salt.modules.config.backup_mode">
                           <h2 class="title topictitle2">backup_mode</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.config.backup_mode(
								backup=''
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Return the backup mode</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' config.backup_mode</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.config.dot_vals">
                           <h2 class="title topictitle2">dot_vals</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.config.dot_vals(
								value
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Pass in a configuration value that should be preceded by the module name
                                    and a dot, this will return a list of all read key/value pairs
                                 </p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' config.dot_vals host</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.config.gather_bootstrap_script">
                           <h2 class="title topictitle2">gather_bootstrap_script</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.config.gather_bootstrap_script(
								bootstrap=None
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Download the salt-bootstrap script, and return its location</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d75143e105" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d75143e107" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d75143e105" class="stentry propvalue">bootstrap</td>
                                    
                                    <td valign="top" headers="d75143e107" class="stentry propdesc">
                                       <p class="p">URL of alternate bootstrap script</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' config.gather_bootstrap_script</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.config.get">
                           <h2 class="title topictitle2">get</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.config.get(
								key,
								default='',
								delimiter=':',
								merge=None
								)</pre>
                                 </div>
                              
                              <div class="section"><pre class="pre codeblock">versionadded: 0.14.0</pre>
                                 <p class="p">Attempt to retrieve the named value from the minion config file, pillar,
                                    grains or the master config. If the named value is not available, return the
                                    value specified by <tt class="ph tt">default</tt>. If not specified, the default is an empty
                                    string.
                                 </p>
                                 
                                 <p class="p">Values can also be retrieved from nested dictionaries. Assume the below
                                    data structure:
                                 </p>
                                 <pre class="pre codeblock language-python">{'pkg': {'apache': 'httpd'}}</pre>
                                 <p class="p">To retrieve the value associated with the <tt class="ph tt">apache</tt> key, in the
                                    sub-dictionary corresponding to the <tt class="ph tt">pkg</tt> key, the following command can
                                    be used:
                                 </p>
                                 <pre class="pre codeblock language-bash">salt myminion config.get pkg:apache</pre>
                                 <p class="p">The <tt class="ph tt">:</tt> (colon) is used to represent a nested dictionary level.
                                 </p>
                                 
                                 <p class="p"><span class="keyword versionmodified">Changed in version 2015.2.0: </span>The <tt class="ph tt">delimiter</tt> argument was added, to allow delimiters other than
                                    <tt class="ph tt">:</tt> to be used.
                                 </p>
                                 
                                 <p class="p">This function traverses these data stores in this order:</p>
                                 
                                 <ul class="ul">
                                    <li class="li">
                                       <p class="p">Minion config file</p>
                                       
                                    </li>
                                    
                                    <li class="li">
                                       <p class="p">Minion's grains</p>
                                       
                                    </li>
                                    
                                    <li class="li">
                                       <p class="p">Minion's pillar data</p>
                                       
                                    </li>
                                    
                                    <li class="li">
                                       <p class="p">Master config file</p>
                                       
                                    </li>
                                    
                                 </ul>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d75143e199" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d75143e201" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d75143e199" class="stentry propvalue">delimiter</td>
                                    
                                    <td valign="top" headers="d75143e201" class="stentry propdesc">
                                       <p class="p"><span class="keyword versionmodified">New in version 2015.2.0.</span></p>
                                       
                                       <p class="p">Override the delimiter used to separate nested levels of a data
                                          structure.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d75143e199" class="stentry propvalue">merge</td>
                                    
                                    <td valign="top" headers="d75143e201" class="stentry propdesc">
                                       <p class="p"><span class="keyword versionmodified">New in version 2015.2.0.</span></p>
                                       
                                       <p class="p">If passed, this parameter will change the behavior of the function so
                                          that, instead of traversing each data store above in order and
                                          returning the first match, the data stores are first merged together
                                          and then searched. The pillar data is merged into the master config
                                          data, then the grains are merged, followed by the Minion config data.
                                          The resulting data structure is then searched for a match. This allows
                                          for configurations to be more flexible.
                                       </p>
                                       
                                       <aside class="note "><span class="glyphicon glyphicon-check"></span><span class="title">Note:</span> 
                                          <p class="p">The merging described above does not mean that grain data will end
                                             up in the Minion's pillar data, or pillar data will end up in the
                                             master config data, etc. The data is just combined for the purposes
                                             of searching an amalgam of the different data stores.
                                          </p>
                                          
                                       </aside>
                                       
                                       <p class="p">The supported merge strategies are as follows:</p>
                                       
                                       <ul class="ul">
                                          <li class="li">
                                             <p class="p"><strong class="ph b">recurse</strong> - If a key exists in both dictionaries, and the new value
                                                is not a dictionary, it is replaced. Otherwise, the sub-dictionaries
                                                are merged together into a single dictionary, recursively on down,
                                                following the same criteria. For example:
                                             </p>
                                             <pre class="pre codeblock language-python">&gt;&gt;&gt; dict1 = {'foo': {'bar': 1, 'qux': True},
             'hosts': ['a', 'b', 'c'],
             'only_x': None}
&gt;&gt;&gt; dict2 = {'foo': {'baz': 2, 'qux': False},
             'hosts': ['d', 'e', 'f'],
             'only_y': None}
&gt;&gt;&gt; merged
{'foo': {'bar': 1, 'baz': 2, 'qux': False},
 'hosts': ['d', 'e', 'f'],
 'only_dict1': None,
 'only_dict2': None}</pre>
                                             </li>
                                          
                                          <li class="li">
                                             <p class="p"><strong class="ph b">overwrite</strong> - If a key exists in the top level of both
                                                dictionaries, the new value completely overwrites the old. For
                                                example:
                                             </p>
                                             <pre class="pre codeblock language-python">&gt;&gt;&gt; dict1 = {'foo': {'bar': 1, 'qux': True},
             'hosts': ['a', 'b', 'c'],
             'only_x': None}
&gt;&gt;&gt; dict2 = {'foo': {'baz': 2, 'qux': False},
             'hosts': ['d', 'e', 'f'],
             'only_y': None}
&gt;&gt;&gt; merged
{'foo': {'baz': 2, 'qux': False},
 'hosts': ['d', 'e', 'f'],
 'only_dict1': None,
 'only_dict2': None}</pre>
                                             </li>
                                          
                                       </ul>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' config.get pkg:apache
salt '*' config.get lxc.container_profile:centos merge=recurse</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.config.manage_mode">
                           <h2 class="title topictitle2">manage_mode</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.config.manage_mode(
								mode
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Return a mode value, normalized to a string</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' config.manage_mode</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.config.merge">
                           <h2 class="title topictitle2">merge</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.config.merge(
								value,
								default='',
								omit_opts=False,
								omit_master=False,
								omit_pillar=False
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Retrieves an option based on key, merging all matches.</p>
                                 
                                 <p class="p">Same as <tt class="ph tt">option()</tt> except that it merges all matches, rather than taking
                                    the first match.
                                 </p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' config.merge schedule</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.config.option">
                           <h2 class="title topictitle2">option</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.config.option(
								value,
								default='',
								omit_opts=False,
								omit_master=False,
								omit_pillar=False
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Pass in a generic option and receive the value that will be assigned</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' config.option redis.host</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.config.valid_fileproto">
                           <h2 class="title topictitle2">valid_fileproto</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.config.valid_fileproto(
								uri
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Returns a boolean value based on whether or not the URI passed has a valid
                                    remote file protocol designation
                                 </p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' config.valid_fileproto salt://path/to/file</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                     </div>
                     <button id="next-button" type="button" class="btn btn-primary">
                        Next <span class="glyphicon glyphicon-chevron-right"></span></button><div class="footer">

                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>