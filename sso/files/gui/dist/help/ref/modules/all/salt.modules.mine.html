<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>salt.modules.mine</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="schema.DC" href="http://purl.org/dc/terms/">
      <meta name="DC.Type" content="reference">
      
      <meta name="DC.Title" content="salt.modules.mine">
      
      <meta name="DC.Relation" scheme="URI" content="../../exe-modules.html">
      
      <meta name="DC.Format" content="XHTML">
      
      <meta name="DC.Identifier" content="salt-modules-mine">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/gui/css/core.min.css">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/gui/css/webhelp.min.css">
      <script type="text/javascript" src="../../../themes/gui/js/webhelp.min.js"></script>
      </head>
   <body>
      <div id="wrapper">
         <!--ZOOMSTOP-->
         <div id="sidebar-wrapper" class="reference dynamic-toc"></div>
         <!--ZOOMRESTART-->
         <div id="page-content-wrapper">
            <div class="container-fluid">
               <div class="row">
                  <div class="col-lg-12">
                     <div class="page reference  - topic-topic       reference-reference " id="salt-modules-mine">
                        <!--ZOOMSTOP--><a href="#menu-toggle" class="btn btn-primary" id="menu-toggle">Toggle Menu</a><!--ZOOMRESTART--><h1 class="title topictitle1">salt.modules.mine</h1>
                        <div class="body refbody">
                           <div class="section">
                              <p class="p ids"><span class="ph" id="salt-modules-mine__module-salt.modules.mine"></span></p>
                              
                              <p class="p">The function cache system allows for data to be stored on the master so it can be
                                 easily read by other minions
                              </p>
                              
                           </div>
                           
                        </div>
                        
                        <div xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" class="related-links"></div>
                        <div class="topic reference nested1" id="salt.modules.mine.delete">
                           <h2 class="title topictitle2">delete</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.mine.delete(
								fun
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Remove specific function contents of minion. Returns True on success.</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' mine.delete 'network.interfaces'</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.mine.flush">
                           <h2 class="title topictitle2">flush</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.mine.flush( )</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Remove all mine contents of minion. Returns True on success.</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' mine.flush</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.mine.get">
                           <h2 class="title topictitle2">get</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.mine.get(
								tgt,
								fun,
								expr_form='glob'
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Get data from the mine based on the target, function and expr_form</p>
                                 
                                 <p class="p">Targets can be matched based on any standard matching system that can be
                                    matched on the master via these keywords:
                                 </p>
                                 <pre class="pre codeblock language-">glob
pcre
grain
grain_pcre
compound
pillar</pre>
                                 <p class="p">Note that all pillar matches, whether using the compound matching system or
                                    the pillar matching system, will be exact matches, with globbing disabled.
                                 </p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' mine.get '*' network.interfaces
salt '*' mine.get 'os:Fedora' network.interfaces grain
salt '*' mine.get 'os:Fedora and S@192.168.5.0/24' network.ipaddrs compound</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.mine.get_docker">
                           <h2 class="title topictitle2">get_docker</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.mine.get_docker(
								interfaces=None,
								cidrs=None
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Get all mine data for 'docker.get_containers' and run an aggregation
                                    routine. The "interfaces" parameter allows for specifying which network
                                    interfaces to select ip addresses from. The "cidrs" parameter allows for
                                    specifying a list of cidrs which the ip address must match.
                                 </p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' mine.get_docker
salt '*' mine.get_docker interfaces='eth0'
salt '*' mine.get_docker interfaces='["eth0", "eth1"]'
salt '*' mine.get_docker cidrs='107.170.147.0/24'
salt '*' mine.get_docker cidrs='["107.170.147.0/24", "172.17.42.0/24"]'
salt '*' mine.get_docker interfaces='["eth0", "eth1"]' cidrs='["107.170.147.0/24", "172.17.42.0/24"]'</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.mine.send">
                           <h2 class="title topictitle2">send</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.mine.send(
								func,
								*args,
								**kwargs
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Send a specific function to the mine.</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' mine.send network.ip_addrs eth0
salt '*' mine.send eth0_ip_addrs mine_function=network.ip_addrs eth0</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.mine.update">
                           <h2 class="title topictitle2">update</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.mine.update(
								clear=False
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Execute the configured functions and send the data back up to the master
                                    The functions to be executed are merged from the master config, pillar and
                                    minion config under the option "function_cache":
                                 </p>
                                 <pre class="pre codeblock language-yaml">mine_functions:
  network.ip_addrs:
    - eth0
  disk.usage: []</pre>
                                 <p class="p">The function cache will be populated with information from executing these
                                    functions
                                 </p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' mine.update</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                     </div>
                     <button id="next-button" type="button" class="btn btn-primary">
                        Next <span class="glyphicon glyphicon-chevron-right"></span></button><div class="footer">

                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>