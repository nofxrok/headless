<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>salt.modules.aptpkg</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="schema.DC" href="http://purl.org/dc/terms/">
      <meta name="DC.Type" content="reference">
      
      <meta name="DC.Title" content="salt.modules.aptpkg">
      
      <meta name="DC.Relation" scheme="URI" content="../../exe-modules.html">
      
      <meta name="DC.Format" content="XHTML">
      
      <meta name="DC.Identifier" content="salt-modules-aptpkg">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/gui/css/core.min.css">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/gui/css/webhelp.min.css">
      <script type="text/javascript" src="../../../themes/gui/js/webhelp.min.js"></script>
      </head>
   <body>
      <div id="wrapper">
         <!--ZOOMSTOP-->
         <div id="sidebar-wrapper" class="reference dynamic-toc"></div>
         <!--ZOOMRESTART-->
         <div id="page-content-wrapper">
            <div class="container-fluid">
               <div class="row">
                  <div class="col-lg-12">
                     <div class="page reference  - topic-topic       reference-reference " id="salt-modules-aptpkg">
                        <!--ZOOMSTOP--><a href="#menu-toggle" class="btn btn-primary" id="menu-toggle">Toggle Menu</a><!--ZOOMRESTART--><h1 class="title topictitle1">salt.modules.aptpkg</h1>
                        <div class="body refbody">
                           <div class="section">
                              <p class="p ids"><span class="ph" id="salt-modules-aptpkg__module-salt.modules.aptpkg"></span></p>
                              
                              <p class="p">Support for APT (Advanced Packaging Tool)</p>
                              
                              <aside class="note "><span class="glyphicon glyphicon-check"></span><span class="title">Note:</span> 
                                 <p class="p">For virtual package support, either the <tt class="ph tt">python-apt</tt> or <tt class="ph tt">dctrl-tools</tt>
                                    package must be installed.
                                 </p>
                                 
                                 <p class="p">For repository management, the <tt class="ph tt">python-apt</tt> package must be installed.
                                 </p>
                                 
                              </aside>
                              
                           </div>
                           
                        </div>
                        
                        <div xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" class="related-links"></div>
                        <div class="topic reference nested1" id="salt.modules.aptpkg.autoremove">
                           <h2 class="title topictitle2">autoremove</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.autoremove(
								list_only=False
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p"><span class="keyword versionmodified">New in version 2015.2.0.</span></p>
                                 
                                 <p class="p">Remove packages not required by another package using <tt class="ph tt">apt-get
                                       autoremove</tt>.
                                 </p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d51032e67" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d51032e69" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e67" class="stentry propvalue">list_only</td>
                                    
                                    <td valign="top" headers="d51032e69" class="stentry propdesc">
                                       <p class="p">Only retrieve the list of packages to be auto-removed, do not actually
                                          perform the auto-removal.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' pkg.autoremove
salt '*' pkg.autoremove list_only=True</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.del_repo">
                           <h2 class="title topictitle2">del_repo</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.del_repo(
								repo,
								**kwargs
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Delete a repo from the sources.list / sources.list.d</p>
                                 
                                 <p class="p">If the .list file is in the sources.list.d directory
                                    and the file that the repo exists in does not contain any other
                                    repo configuration, the file itself will be deleted.
                                 </p>
                                 
                                 <p class="p">The repo passed in must be a fully formed repository definition
                                    string.
                                 </p>
                                 
                                 <p class="p">CLI Examples:</p>
                                 <pre class="pre codeblock language-bash">salt '*' pkg.del_repo "myrepo definition"</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.expand_repo_def">
                           <h2 class="title topictitle2">expand_repo_def</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.expand_repo_def(
								repokwargs
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Take a repository definition and expand it to the full pkg repository dict
                                    that can be used for comparison.  This is a helper function to make
                                    the Debian/Ubuntu apt sources sane for comparison in the pkgrepo states.
                                 </p>
                                 
                                 <p class="p">There is no use to calling this function via the CLI.</p>
                                 
                              </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.file_dict">
                           <h2 class="title topictitle2">file_dict</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.file_dict(
								*packages
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">List the files that belong to a package, grouped by package. Not
                                    specifying any packages will return a list of _every_ file on the system's
                                    package database (not generally recommended).
                                 </p>
                                 
                                 <p class="p">CLI Examples:</p>
                                 <pre class="pre codeblock language-bash">salt '*' pkg.file_list httpd
salt '*' pkg.file_list httpd postfix
salt '*' pkg.file_list</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.file_list">
                           <h2 class="title topictitle2">file_list</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.file_list(
								*packages
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">List the files that belong to a package. Not specifying any packages will
                                    return a list of _every_ file on the system's package database (not
                                    generally recommended).
                                 </p>
                                 
                                 <p class="p">CLI Examples:</p>
                                 <pre class="pre codeblock language-bash">salt '*' pkg.file_list httpd
salt '*' pkg.file_list httpd postfix
salt '*' pkg.file_list</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.get_repo">
                           <h2 class="title topictitle2">get_repo</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.get_repo(
								repo,
								**kwargs
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Display a repo from the sources.list / sources.list.d</p>
                                 
                                 <p class="p">The repo passed in needs to be a complete repo entry.</p>
                                 
                                 <p class="p">CLI Examples:</p>
                                 <pre class="pre codeblock language-bash">salt '*' pkg.get_repo "myrepo definition"</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.get_selections">
                           <h2 class="title topictitle2">get_selections</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.get_selections(
								pattern=None,
								state=None
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">View package state from the dpkg database.</p>
                                 
                                 <p class="p">Returns a dict of dicts containing the state, and package names:</p>
                                 <pre class="pre codeblock language-python">{'&lt;host&gt;':
    {'&lt;state&gt;': ['pkg1',
                 ...
                ]
    },
    ...
}</pre>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' pkg.get_selections
salt '*' pkg.get_selections 'python-*'
salt '*' pkg.get_selections state=hold
salt '*' pkg.get_selections 'openssh*' state=hold</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.hold">
                           <h2 class="title topictitle2">hold</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.hold(
								name=None,
								pkgs=None,
								sources=None,
								**kwargs
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p"><span class="keyword versionmodified">New in version 2014.7.0.</span></p>
                                 
                                 <p class="p">Set package in 'hold' state, meaning it will not be upgraded.</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d51032e297" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d51032e299" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e297" class="stentry propvalue">name</td>
                                    
                                    <td valign="top" headers="d51032e299" class="stentry propdesc">
                                       <p class="p">The name of the package, e.g., 'tmux'</p>
                                       
                                       <p class="p">CLI Example:</p>
                                       <pre class="pre codeblock language-bash">salt '*' pkg.hold &lt;package name&gt;</pre>
                                       </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e297" class="stentry propvalue">pkgs</td>
                                    
                                    <td valign="top" headers="d51032e299" class="stentry propdesc">
                                       <p class="p">A list of packages to hold. Must be passed as a python list.</p>
                                       
                                       <p class="p">CLI Example:</p>
                                       <pre class="pre codeblock language-bash">salt '*' pkg.hold pkgs='["foo", "bar"]'</pre>
                                       </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.install">
                           <h2 class="title topictitle2">install</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.install(
								name=None,
								refresh=False,
								fromrepo=None,
								skip_verify=False,
								debconf=None,
								pkgs=None,
								sources=None,
								**kwargs
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Install the passed package, add refresh=True to update the dpkg database.</p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d51032e350" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d51032e352" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e350" class="stentry propvalue">name</td>
                                    
                                    <td valign="top" headers="d51032e352" class="stentry propdesc">
                                       <p class="p">The name of the package to be installed. Note that this parameter is
                                          ignored if either "pkgs" or "sources" is passed. Additionally, please
                                          note that this option can only be used to install packages from a
                                          software repository. To install a package file manually, use the
                                          "sources" option.
                                       </p>
                                       
                                       <p class="p">32-bit packages can be installed on 64-bit systems by appending the
                                          architecture designation (<tt class="ph tt">:i386</tt>, etc.) to the end of the package
                                          name.
                                       </p>
                                       
                                       <p class="p">CLI Example:</p>
                                       <pre class="pre codeblock language-bash">salt '*' pkg.install &lt;package name&gt;</pre>
                                       </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e350" class="stentry propvalue">refresh</td>
                                    
                                    <td valign="top" headers="d51032e352" class="stentry propdesc">
                                       <p class="p">Whether or not to refresh the package database before installing.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e350" class="stentry propvalue">fromrepo</td>
                                    
                                    <td valign="top" headers="d51032e352" class="stentry propdesc">
                                       <p class="p">Specify a package repository to install from
                                          (e.g., <tt class="ph tt">apt-get -t unstable install somepackage</tt>)
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e350" class="stentry propvalue">skip_verify</td>
                                    
                                    <td valign="top" headers="d51032e352" class="stentry propdesc">
                                       <p class="p">Skip the GPG verification check (e.g., <tt class="ph tt">--allow-unauthenticated</tt>, or
                                          <tt class="ph tt">--force-bad-verify</tt> for install from package file).
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e350" class="stentry propvalue">debconf</td>
                                    
                                    <td valign="top" headers="d51032e352" class="stentry propdesc">
                                       <p class="p">Provide the path to a debconf answers file, processed before
                                          installation.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e350" class="stentry propvalue">version</td>
                                    
                                    <td valign="top" headers="d51032e352" class="stentry propdesc">
                                       <p class="p">Install a specific version of the package, e.g. 1.2.3~0ubuntu0. Ignored
                                          if "pkgs" or "sources" is passed.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <p class="p">Multiple Package Installation Options:</p>
                                 
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d51032e413" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d51032e415" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e413" class="stentry propvalue">pkgs</td>
                                    
                                    <td valign="top" headers="d51032e415" class="stentry propdesc">
                                       <p class="p">A list of packages to install from a software repository. Must be
                                          passed as a python list.
                                       </p>
                                       
                                       <p class="p">CLI Example:</p>
                                       <pre class="pre codeblock language-bash">salt '*' pkg.install pkgs='["foo", "bar"]'
salt '*' pkg.install pkgs='["foo", {"bar": "1.2.3-0ubuntu0"}]'</pre>
                                       </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e413" class="stentry propvalue">sources</td>
                                    
                                    <td valign="top" headers="d51032e415" class="stentry propdesc">
                                       <p class="p">A list of DEB packages to install. Must be passed as a list of dicts,
                                          with the keys being package names, and the values being the source URI
                                          or local path to the package.  Dependencies are automatically resolved
                                          and marked as auto-installed.
                                       </p>
                                       
                                       <p class="p">32-bit packages can be installed on 64-bit systems by appending the
                                          architecture designation (<tt class="ph tt">:i386</tt>, etc.) to the end of the package
                                          name.
                                       </p>
                                       
                                       <p class="p"><span class="keyword versionmodified">Changed in version 2014.7.0.</span></p>
                                       
                                       <p class="p">CLI Example:</p>
                                       <pre class="pre codeblock language-bash">salt '*' pkg.install sources='[{"foo": "salt://foo.deb"},{"bar": "salt://bar.deb"}]'</pre>
                                       </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e413" class="stentry propvalue">force_yes</td>
                                    
                                    <td valign="top" headers="d51032e415" class="stentry propdesc">
                                       <p class="p">Passes <tt class="ph tt">--force-yes</tt> to the apt-get command.  Don't use this unless
                                          you know what you're doing.
                                       </p>
                                       
                                       <p class="p"><span class="keyword versionmodified">New in version 0.17.4.</span></p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e413" class="stentry propvalue">install_recommends</td>
                                    
                                    <td valign="top" headers="d51032e415" class="stentry propdesc">
                                       <p class="p">Whether to install the packages marked as recommended.  Default is True.</p>
                                       
                                       <p class="p"><span class="keyword versionmodified">New in version 2015.2.0.</span></p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e413" class="stentry propvalue">only_upgrade</td>
                                    
                                    <td valign="top" headers="d51032e415" class="stentry propdesc">
                                       <p class="p">Only upgrade the packages, if they are already installed. Default is False.</p>
                                       
                                       <p class="p"><span class="keyword versionmodified">New in version 2015.2.0.</span></p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Returns a dict containing the new package names and versions:</p>
                                 <pre class="pre codeblock language-">{'&lt;package&gt;': {'old': '&lt;old-version&gt;',
               'new': '&lt;new-version&gt;'}}</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.latest_version">
                           <h2 class="title topictitle2">latest_version</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.latest_version(
								*names,
								**kwargs
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Return the latest version of the named package available for upgrade or
                                    installation. If more than one package name is specified, a dict of
                                    name/version pairs is returned.
                                 </p>
                                 
                                 <p class="p">If the latest version of a given package is already installed, an empty
                                    string will be returned for that package.
                                 </p>
                                 
                                 <p class="p">A specific repo can be requested using the <tt class="ph tt">fromrepo</tt> keyword argument.
                                 </p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' pkg.latest_version &lt;package name&gt;
salt '*' pkg.latest_version &lt;package name&gt; fromrepo=unstable
salt '*' pkg.latest_version &lt;package1&gt; &lt;package2&gt; &lt;package3&gt; ...</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.list_pkgs">
                           <h2 class="title topictitle2">list_pkgs</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.list_pkgs(
								versions_as_list=False,
								removed=False,
								purge_desired=False,
								**kwargs
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">List the packages currently installed in a dict:</p>
                                 <pre class="pre codeblock language-">{'&lt;package_name&gt;': '&lt;version&gt;'}</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d51032e548" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d51032e550" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e548" class="stentry propvalue">removed</td>
                                    
                                    <td valign="top" headers="d51032e550" class="stentry propdesc">
                                       <p class="p">If <tt class="ph tt">True</tt>, then only packages which have been removed (but not
                                          purged) will be returned.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e548" class="stentry propvalue">purge_desired</td>
                                    
                                    <td valign="top" headers="d51032e550" class="stentry propdesc">
                                       <p class="p">If <tt class="ph tt">True</tt>, then only packages which have been marked to be purged,
                                          but can't be purged due to their status as dependencies for other
                                          installed packages, will be returned. Note that these packages will
                                          appear in installed
                                       </p>
                                       
                                       <p class="p"><span class="keyword versionmodified">Changed in version 2014.1.1: </span>Packages in this state now correctly show up in the output of this
                                          function.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <aside class="note "><span class="glyphicon glyphicon-check"></span><span class="title">Note:</span> 
                                    <p class="p">External dependencies</p>
                                    
                                    <p class="p">Virtual package resolution requires the <tt class="ph tt">dctrl-tools</tt> package to be
                                       installed. Virtual packages will show a version of <tt class="ph tt">1</tt>.
                                    </p>
                                    
                                 </aside>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' pkg.list_pkgs
salt '*' pkg.list_pkgs versions_as_list=True</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.list_repos">
                           <h2 class="title topictitle2">list_repos</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.list_repos( )</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Lists all repos in the sources.list (and sources.lists.d) files</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' pkg.list_repos
salt '*' pkg.list_repos disabled=True</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.list_upgrades">
                           <h2 class="title topictitle2">list_upgrades</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.list_upgrades(
								refresh=True
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">List all available package upgrades.</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' pkg.list_upgrades</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.mod_repo">
                           <h2 class="title topictitle2">mod_repo</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.mod_repo(
								repo,
								saltenv='base',
								**kwargs
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Modify one or more values for a repo.  If the repo does not exist, it will
                                    be created, so long as the definition is well formed.  For Ubuntu the
                                    "ppa:&lt;project&gt;/repo" format is acceptable. "ppa:" format can only be
                                    used to create a new repository.
                                 </p>
                                 
                                 <p class="p">The following options are available to modify a repo definition:</p>
                                 <pre class="pre codeblock language-">comps (a comma separated list of components for the repo, e.g. "main")
file (a file name to be used)
keyserver (keyserver to get gpg key from)
keyid (key id to load with the keyserver argument)
key_url (URL to a gpg key to add to the apt gpg keyring)
consolidate (if true, will attempt to de-dup and consolidate sources)

* Note: Due to the way keys are stored for apt, there is a known issue
        where the key wont be updated unless another change is made
        at the same time.  Keys should be properly added on initial
        configuration.</pre>
                                 <p class="p">CLI Examples:</p>
                                 <pre class="pre codeblock language-bash">salt '*' pkg.mod_repo 'myrepo definition' uri=http://new/uri
salt '*' pkg.mod_repo 'myrepo definition' comps=main,universe</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.owner">
                           <h2 class="title topictitle2">owner</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.owner(
								*paths
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p"><span class="keyword versionmodified">New in version 2014.7.0.</span></p>
                                 
                                 <p class="p">Return the name of the package that owns the file. Multiple file paths can
                                    be passed. Like <a class="xref" href="salt.modules.aptpkg.html#salt.modules.aptpkg.version">pkg.version</a>, if a
                                    single path is passed, a string will be returned, and if multiple paths are
                                    passed, a dictionary of file/package name pairs will be returned.
                                 </p>
                                 
                                 <p class="p">If the file is not owned by a package, or is not present on the minion,
                                    then an empty string will be returned for that path.
                                 </p>
                                 
                                 <p class="p">CLI Example:</p>
                                 
                                 <blockquote class="lq">
                                    <p class="p">salt '*' pkg.owner /usr/bin/apachectl
                                       salt '*' pkg.owner /usr/bin/apachectl /usr/bin/basename
                                    </p>
                                    
                                 </blockquote>
                                 
                              </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.purge">
                           <h2 class="title topictitle2">purge</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.purge(
								name=None,
								pkgs=None,
								**kwargs
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Remove packages via <tt class="ph tt">apt-get purge</tt> along with all configuration files.
                                 </p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d51032e753" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d51032e755" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e753" class="stentry propvalue">name</td>
                                    
                                    <td valign="top" headers="d51032e755" class="stentry propdesc">
                                       <p class="p">The name of the package to be deleted.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <p class="p">Multiple Package Options:</p>
                                 
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d51032e768" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d51032e770" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e768" class="stentry propvalue">pkgs</td>
                                    
                                    <td valign="top" headers="d51032e770" class="stentry propdesc">
                                       <p class="p">A list of packages to delete. Must be passed as a python list. The
                                          <tt class="ph tt">name</tt> parameter will be ignored if this option is passed.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p"><span class="keyword versionmodified">New in version 0.16.0.</span></p>
                                 
                                 <p class="p">Returns a dict containing the changes.</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' pkg.purge &lt;package name&gt;
salt '*' pkg.purge &lt;package1&gt;,&lt;package2&gt;,&lt;package3&gt;
salt '*' pkg.purge pkgs='["foo", "bar"]'</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.refresh_db">
                           <h2 class="title topictitle2">refresh_db</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.refresh_db( )</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Updates the APT database to latest packages based upon repositories</p>
                                 
                                 <p class="p">Returns a dict, with the keys being package databases and the values being
                                    the result of the update attempt. Values can be one of the following:
                                 </p>
                                 
                                 <ul class="ul">
                                    <li class="li">
                                       <p class="p"><tt class="ph tt">True</tt>: Database updated successfully
                                       </p>
                                       
                                    </li>
                                    
                                    <li class="li">
                                       <p class="p"><tt class="ph tt">False</tt>: Problem updating database
                                       </p>
                                       
                                    </li>
                                    
                                    <li class="li">
                                       <p class="p"><tt class="ph tt">None</tt>: Database already up-to-date
                                       </p>
                                       
                                    </li>
                                    
                                 </ul>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' pkg.refresh_db</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.remove">
                           <h2 class="title topictitle2">remove</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.remove(
								name=None,
								pkgs=None,
								**kwargs
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Remove packages using <tt class="ph tt">apt-get remove</tt>.
                                 </p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d51032e871" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d51032e873" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e871" class="stentry propvalue">name</td>
                                    
                                    <td valign="top" headers="d51032e873" class="stentry propdesc">
                                       <p class="p">The name of the package to be deleted.</p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <p class="p">Multiple Package Options:</p>
                                 
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d51032e886" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d51032e888" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e886" class="stentry propvalue">pkgs</td>
                                    
                                    <td valign="top" headers="d51032e888" class="stentry propdesc">
                                       <p class="p">A list of packages to delete. Must be passed as a python list. The
                                          <tt class="ph tt">name</tt> parameter will be ignored if this option is passed.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p"><span class="keyword versionmodified">New in version 0.16.0.</span></p>
                                 
                                 <p class="p">Returns a dict containing the changes.</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' pkg.remove &lt;package name&gt;
salt '*' pkg.remove &lt;package1&gt;,&lt;package2&gt;,&lt;package3&gt;
salt '*' pkg.remove pkgs='["foo", "bar"]'</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.set_selections">
                           <h2 class="title topictitle2">set_selections</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.set_selections(
								path=None,
								selection=None,
								clear=False,
								saltenv='base'
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Change package state in the dpkg database.</p>
                                 
                                 <p class="p">The state can be any one of, documented in <tt class="ph tt">dpkg(1)</tt>:
                                 </p>
                                 
                                 <blockquote class="lq">
                                    <ul class="ul">
                                       <li class="li">
                                          <p class="p">install</p>
                                          
                                       </li>
                                       
                                       <li class="li">
                                          <p class="p">hold</p>
                                          
                                       </li>
                                       
                                       <li class="li">
                                          <p class="p">deinstall</p>
                                          
                                       </li>
                                       
                                       <li class="li">
                                          <p class="p">purge</p>
                                          
                                       </li>
                                       
                                    </ul>
                                    
                                 </blockquote>
                                 
                                 <p class="p">This command is commonly used to mark specific packages to be held from
                                    being upgraded, that is, to be kept at a certain version. When a state is
                                    changed to anything but being held, then it is typically followed by
                                    <tt class="ph tt">apt-get -u dselect-upgrade</tt>.
                                 </p>
                                 
                                 <p class="p">Note: Be careful with the <tt class="ph tt">clear</tt> argument, since it will start
                                    with setting all packages to deinstall state.
                                 </p>
                                 
                                 <p class="p">Returns a dict of dicts containing the package names, and the new and old
                                    versions:
                                 </p>
                                 <pre class="pre codeblock language-python">{'&lt;host&gt;':
    {'&lt;package&gt;': {'new': '&lt;new-state&gt;',
                   'old': '&lt;old-state&gt;'}
    },
    ...
}</pre>
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' pkg.set_selections selection='{"install": ["netcat"]}'
salt '*' pkg.set_selections selection='{"hold": ["openssh-server", "openssh-client"]}'
salt '*' pkg.set_selections salt://path/to/file
salt '*' pkg.set_selections salt://path/to/file clear=True</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.unhold">
                           <h2 class="title topictitle2">unhold</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.unhold(
								name=None,
								pkgs=None,
								sources=None,
								**kwargs
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p"><span class="keyword versionmodified">New in version 2014.7.0.</span></p>
                                 
                                 <p class="p">Set package current in 'hold' state to install state,
                                    meaning it will be upgraded.
                                 </p>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d51032e1005" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d51032e1007" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e1005" class="stentry propvalue">name</td>
                                    
                                    <td valign="top" headers="d51032e1007" class="stentry propdesc">
                                       <p class="p">The name of the package, e.g., 'tmux'</p>
                                       
                                       <p class="p">CLI Example:</p>
                                       <pre class="pre codeblock language-bash">salt '*' pkg.unhold &lt;package name&gt;</pre>
                                       </td>
                                    
                                 </tr>
                                 
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e1005" class="stentry propvalue">pkgs</td>
                                    
                                    <td valign="top" headers="d51032e1007" class="stentry propdesc">
                                       <p class="p">A list of packages to hold. Must be passed as a python list.</p>
                                       
                                       <p class="p">CLI Example:</p>
                                       <pre class="pre codeblock language-bash">salt '*' pkg.unhold pkgs='["foo", "bar"]'</pre>
                                       </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.upgrade">
                           <h2 class="title topictitle2">upgrade</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.upgrade(
								refresh=True,
								dist_upgrade=True
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <p class="p">Upgrades all packages via <tt class="ph tt">apt-get dist-upgrade</tt></p>
                                 
                                 <p class="p">Returns a dict containing the changes.</p>
                                 
                                 <blockquote class="lq">
                                    <dl class="dl definition_list">
                                       <dt class="dt dlterm">{'&lt;package&gt;':  {'old': '&lt;old-version&gt;',</dt>
                                       
                                       <dd class="dd">
                                          <p class="p">'new': '&lt;new-version&gt;'}}</p>
                                          
                                       </dd>
                                       
                                    </dl>
                                    
                                 </blockquote>
                                 
                              </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Arguments</h3>
                              </div>
                              
                              <table cellpadding="4" cellspacing="0" summary="" class="simpletable properties">
                                 <tr class="sthead prophead">
                                    
                                    <th valign="bottom" align="left" id="d51032e1069" class="stentry propvaluehd">Name</th>
                                    
                                    <th valign="bottom" align="left" id="d51032e1071" class="stentry propdeschd">Description</th>
                                    
                                 </tr>
                                 <tr class="strow property">
                                    
                                    <td valign="top" headers="d51032e1069" class="stentry propvalue">dist_upgrade</td>
                                    
                                    <td valign="top" headers="d51032e1071" class="stentry propdesc">
                                       <p class="p">Whether to perform the upgrade using dist-upgrade vs upgrade.  Default
                                          is to use dist-upgrade.
                                       </p>
                                       
                                    </td>
                                    
                                 </tr>
                                 
                              </table>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p"><span class="keyword versionmodified">New in version 2014.7.0.</span></p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' pkg.upgrade</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.upgrade_available">
                           <h2 class="title topictitle2">upgrade_available</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.upgrade_available(
								name
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Check whether or not an upgrade is available for a given package</p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' pkg.upgrade_available &lt;package name&gt;</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.version">
                           <h2 class="title topictitle2">version</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.version(
								*names,
								**kwargs
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Returns a string representing the package version or an empty string if not
                                    installed. If more than one package name is specified, a dict of
                                    name/version pairs is returned.
                                 </p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' pkg.version &lt;package name&gt;
salt '*' pkg.version &lt;package1&gt; &lt;package2&gt; &lt;package3&gt; ...</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic reference nested1" id="salt.modules.aptpkg.version_cmp">
                           <h2 class="title topictitle2">version_cmp</h2>
                           <div class="body refbody">
                              <div class="section">
                                 <h3 class="title sectiontitle">Syntax</h3>
                              </div>
                              
                              <div class="section refsyn"><pre class="pre codeblock language-python" xml:lang="" lang="">salt.modules.aptpkg.version_cmp(
								pkg1,
								pkg2
								)</pre>
                                 </div>
                              
                              <div class="section">
                                 <h3 class="title sectiontitle">Details</h3>
                                 <p class="p">Do a cmp-style comparison on two packages. Return -1 if pkg1 &lt; pkg2, 0 if
                                    pkg1 == pkg2, and 1 if pkg1 &gt; pkg2. Return None if there was a problem
                                    making the comparison.
                                 </p>
                                 
                                 <p class="p">CLI Example:</p>
                                 <pre class="pre codeblock language-bash">salt '*' pkg.version_cmp '0.2.4-0ubuntu1' '0.2.4.1-0ubuntu1'</pre>
                                 </div>
                              
                           </div>
                           
                        </div>
                        
                     </div>
                     <button id="next-button" type="button" class="btn btn-primary">
                        Next <span class="glyphicon glyphicon-chevron-right"></span></button><div class="footer">

                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>