<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>VM Profiles</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="schema.DC" href="http://purl.org/dc/terms/">
      <meta name="DC.Type" content="concept">
      
      <meta name="DC.Title" content="VM Profiles">
      
      <meta name="DC.Relation" scheme="URI" content="index.html">
      
      <meta name="DC.Format" content="XHTML">
      
      <meta name="DC.Identifier" content="vm-profiles">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../themes/gui/css/core.min.css">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../themes/gui/css/webhelp.min.css">
      <script type="text/javascript" src="../../themes/gui/js/webhelp.min.js"></script>
      </head>
   <body>
      <div id="wrapper">
         <!--ZOOMSTOP-->
         <div id="sidebar-wrapper" class="user dynamic-toc"></div>
         <!--ZOOMRESTART-->
         <div id="page-content-wrapper">
            <div class="container-fluid">
               <div class="row">
                  <div class="col-lg-12">
                     <div class="page concept  - topic-topic concept-concept " id="vm-profiles">
                        <!--ZOOMSTOP--><a href="#menu-toggle" class="btn btn-primary" id="menu-toggle">Toggle Menu</a><!--ZOOMRESTART--><h1 class="title topictitle1">VM Profiles</h1>
                        <div class="body conbody">
                           <p class="p">Salt cloud designates virtual machines inside the profile configuration file.
                              The profile configuration file defaults to <tt class="ph tt">/etc/salt/cloud.profiles</tt> and is
                              a yaml configuration. The syntax for declaring profiles is simple:
                           </p>
                           <pre class="pre codeblock language-yaml">fedora_rackspace:
    provider: rackspace
    image: Fedora 17
    size: 256 server
    script: bootstrap-salt</pre>
                           <p class="p">It should be noted that the <tt class="ph tt">script</tt> option defaults to <tt class="ph tt">bootstrap-salt</tt>,
                              and does not normally need to be specified. Further examples in this document
                              will not show the <tt class="ph tt">script</tt> option.
                           </p>
                           
                           <p class="p">A few key pieces of information need to be declared and can change based on the
                              public cloud provider. A number of additional parameters can also be inserted:
                           </p>
                           <pre class="pre codeblock language-yaml">centos_rackspace:
    provider: rackspace
    image: CentOS 6.2
    size: 1024 server
    minion:
        master: salt.example.com
        append_domain: webs.example.com
        grains:
            role: webserver</pre>
                           <p class="p">The image must be selected from available images. Similarly, sizes must be
                              selected from the list of sizes. To get a list of available images and sizes
                              use the following command:
                           </p>
                           <pre class="pre codeblock language-bash">salt-cloud --list-images openstack
salt-cloud --list-sizes openstack</pre>
                           <p class="p">Some parameters can be specified in the main Salt cloud configuration file and
                              then are applied to all cloud profiles. For instance if only a single cloud
                              provider is being used then the provider option can be declared in the Salt
                              cloud configuration file.
                           </p>
                           
                           <div class="section" id="vm-profiles__multiple-configuration-files">
                              <h2 class="title sectiontitle">Multiple Configuration Files</h2>
                              <p class="p">In addition to <tt class="ph tt">/etc/salt/cloud.profiles</tt>, profiles can also be specified in
                                 any file matching <tt class="ph tt">cloud.profiles.d/*conf</tt> which is a sub-directory relative
                                 to the profiles configuration file(with the above configuration file as an
                                 example, <tt class="ph tt">/etc/salt/cloud.profiles.d/*.conf</tt>).  This allows for more
                                 extensible configuration, and plays nicely with various configuration
                                 management tools as well as version control systems.
                              </p>
                              
                           </div>
                           
                           <div class="section" id="vm-profiles__larger-example">
                              <h2 class="title sectiontitle">Larger Example</h2><pre class="pre codeblock language-yaml">rhel_ec2:
    provider: ec2
    image: ami-e565ba8c
    size: t1.micro
    minion:
        cheese: edam

ubuntu_ec2:
    provider: ec2
    image: ami-7e2da54e
    size: t1.micro
    minion:
        cheese: edam

ubuntu_rackspace:
    provider: rackspace
    image: Ubuntu 12.04 LTS
    size: 256 server
    minion:
        cheese: edam

fedora_rackspace:
    provider: rackspace
    image: Fedora 17
    size: 256 server
    minion:
        cheese: edam

cent_linode:
    provider: linode
    image: CentOS 6.2 64bit
    size: Linode 512

cent_gogrid:
    provider: gogrid
    image: 12834
    size: 512MB

cent_joyent:
    provider: joyent
    image: centos-6
    size: Small 1GB</pre>
                              </div>
                           
                        </div>
                        
                        <div xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" class="related-links"></div>
                     </div>
                     <button id="next-button" type="button" class="btn btn-primary">
                        Next <span class="glyphicon glyphicon-chevron-right"></span></button><div class="footer">

                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>