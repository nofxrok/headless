<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>Salt Syndic</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="schema.DC" href="http://purl.org/dc/terms/">
      <meta name="DC.Type" content="concept">
      
      <meta name="DC.Title" content="Salt Syndic">
      
      <meta name="DC.Relation" scheme="URI" content="../../../enterprise/user-guide.html">
      
      <meta name="DC.Format" content="XHTML">
      
      <meta name="DC.Identifier" content="salt-syndic">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/bootstrap/css/bootstrap.min.css">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/bootstrap/css/fonts.css">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/bootstrap/css/prism.css">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/bootstrap/css/lightbox.css">
      
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../themes/bootstrap/css/webhelp.css">
      <script type="text/javascript" src="../../../themes/bootstrap/js/jquery-1.11.0.js"></script>
      <script type="text/javascript" src="../../../themes/bootstrap/js/jquery-ui-1.9.1.custom.min.js"></script>
      <script type="text/javascript" src="../../../themes/bootstrap/js/bootstrap.min.js"></script>
      <script type="text/javascript" src="../../../themes/bootstrap/js/jquery.slimscroll.js"></script>
      <script type="text/javascript" src="../../../themes/bootstrap/js/jquery.tocify.js"></script>
      <script type="text/javascript" src="../../../themes/bootstrap/js/prism.js"></script>
      <script type="text/javascript" src="../../../themes/bootstrap/js/lightbox.min.js"></script>
      <script type="text/javascript" src="../../../themes/bootstrap/js/webhelp.js"></script>
      </head>
   <body>
      <div id="wrapper">
         <div id="sidebar-wrapper"><a class="ss-logo" href="/help/home.html"></a><div id="search-form" class="inner-addon left-addon"><i class="glyphicon glyphicon-search"></i><input type="text" class="form-control"></div>
            <div id="guide-links">
               <div class="well">
                  <ul class="nav nav-pills nav-stacked">
                     <li><a href="/help/gs/index.html"><span class="glyphicon glyphicon glyphicon-th-list"></span> Get Started</a></li>
                     <li><a href="/help/home.html"><span class="glyphicon glyphicon-home"></span>  Home</a></li>
                     <li><a href="/help/enterprise/user-guide.html"><span class="glyphicon glyphicon-user"></span> User Guide</a></li>
                  </ul>
               </div>
               <p id="guide-title">Enterprise Help</p>
            </div>
            <div class="sidebar-nav">
               <ul id="gen-links">
                  <li class=" collapsible  collapsed"><a href="../../../enterprise/use-cases.html">Use Cases</a><ul>
                        <li class=" no-child "><a href="../../../enterprise/continuous-deployment.html">Continuous Deployment</a></li>
                        <li class=" no-child "><a href="../../../enterprise/app-stacks.html">Application Stacks</a></li>
                        <li class=" collapsible  collapsed"><a href="../../../enterprise/cloud.html">Cloud Management</a><ul>
                              <li class=" no-child "><a href="../../../enterprise/orchestrate.html">Orchestration</a></li>
                           </ul>
                        </li>
                        <li class=" no-child "><a href="../../../enterprise/security-bp.html">Security Best Practices</a></li>
                        <li class=" no-child "><a href="../../../enterprise/components.html">SaltStack Components</a></li>
                     </ul>
                  </li>
                  <li class=" collapsible  collapsed"><a href="../../../enterprise/deployment.html">Deployment</a><ul>
                        <li class=" no-child "><a href="../../../enterprise/t_ops_prepare.html">Preparing the SaltStack Ops System</a></li>
                        <li class=" no-child "><a href="../../../enterprise/t_master_prepare.html">Preparing Masters for SaltStack Ops Integration</a></li>
                        <li class=" no-child "><a href="../../../enterprise/requirements.html">System Requirements</a></li>
                        <li class=" no-child "><a href="../../../enterprise/faq.html">Frequently Asked Questions</a></li>
                     </ul>
                  </li>
                  <li class=" no-child "><a href="../../../enterprise/masters.html">View Masters</a></li>
                  <li class=" no-child "><a href="../../../enterprise/minions.html">View Minions</a></li>
                  <li class=" no-child "><a href="../../../enterprise/jobs.html">Jobs</a></li>
                  <li class=" no-child "><a href="../../../enterprise/targets.html">Targets</a></li>
                  <li class=" collapsible  collapsed"><a href="../../../enterprise/management.html">Admin Management</a><ul>
                        <li class=" no-child "><a href="../../../enterprise/cfg-masters.html">Manage Masters</a></li>
                        <li class=" no-child "><a href="../../../enterprise/jobs-all.html">Manage Jobs</a></li>
                        <li class=" no-child "><a href="../../../enterprise/cfg-users.html">User Accounts</a></li>
                     </ul>
                  </li>
                  <li class=" no-child "><a href="../../../enterprise/web-console-overview.html">Console Overview</a></li>
                  <li class=" no-child "><a href="../../../enterprise/reports.html">View Reports</a></li>
                  <li class=" no-child "><a href="../../../enterprise/architecture.html">Architecture Reference</a></li>
                  <li class=" no-child "><a href="../../../enterprise/glossary.html">Glossary</a></li>
                  <li class=" collapsible  active"><a href="../../../enterprise/user-guide.html">SaltStack User Guide</a><ul>
                        <li class=" collapsible  collapsed"><a href="../../../user/topics/installation/index.html">Installation</a><ul>
                              <li class=" no-child "><a href="../../../user/topics/installation/debian.html">Debian Installation</a></li>
                              <li class=" no-child "><a href="../../../user/topics/installation/freebsd.html">FreeBSD</a></li>
                              <li class=" no-child "><a href="../../../user/topics/installation/gentoo.html">Gentoo</a></li>
                              <li class=" no-child "><a href="../../../user/topics/installation/solaris.html">Solaris</a></li>
                              <li class=" no-child "><a href="../../../user/topics/installation/ubuntu.html">Ubuntu Installation</a></li>
                              <li class=" no-child "><a href="../../../user/topics/installation/windows.html">Windows</a></li>
                           </ul>
                        </li>
                        <li class=" collapsible  collapsed"><a href="../../../user/topics/tutorials/index.html">Tutorials</a><ul>
                              <li class=" no-child "><a href="../../../user/topics/tutorials/standalone_minion.html">Standalone Minion</a></li>
                              <li class=" no-child "><a href="../../../user/topics/tutorials/cron.html">Using cron with Salt</a></li>
                              <li class=" no-child "><a href="../../../user/topics/tutorials/states_pt1.html">States tutorial, part 1 - Basic Usage</a></li>
                              <li class=" no-child "><a href="../../../user/topics/tutorials/states_pt2.html">States tutorial, part 2 - More Complex States, Requisites</a></li>
                              <li class=" no-child "><a href="../../../user/topics/tutorials/states_pt4.html">States tutorial, part 4</a></li>
                              <li class=" no-child "><a href="../../../user/topics/tutorials/minionfs.html">MinionFS Backend Walkthrough</a></li>
                              <li class=" no-child "><a href="../../../user/topics/tutorials/multimaster_pki.html">Multi-Master-PKI Tutorial With Failover</a></li>
                              <li class=" no-child "><a href="../../../user/topics/tutorials/writing_tests.html">Writing Salt Tests</a></li>
                              <li class=" no-child "><a href="../../../user/topics/tutorials/halite.html">Installing and Configuring Halite</a></li>
                           </ul>
                        </li>
                        <li class=" collapsible  collapsed"><a href="../../../user/topics/targeting/index.html">Targeting Minions</a><ul>
                              <li class=" no-child "><a href="../../../user/topics/targeting/globbing.html">Matching the minion id</a></li>
                              <li class=" no-child "><a href="../../../user/topics/targeting/grains.html">Grains</a></li>
                              <li class=" no-child "><a href="../../../user/topics/targeting/ipcidr.html">Subnet/IP Address Matching</a></li>
                              <li class=" no-child "><a href="../../../user/topics/targeting/compound.html">Compound matchers</a></li>
                              <li class=" no-child "><a href="../../../user/topics/targeting/nodegroups.html">Node groups</a></li>
                              <li class=" no-child "><a href="../../../user/topics/targeting/batch.html">Batch Size</a></li>
                              <li class=" no-child "><a href="../../../user/topics/targeting/range.html">SECO Range</a></li>
                           </ul>
                        </li>
                        <li class=" no-child "><a href="../../../user/topics/pillar/index.html">Storing Static Data in the Pillar</a></li>
                        <li class=" no-child "><a href="../../../user/topics/reactor/index.html">Reactor System</a></li>
                        <li class=" collapsible  collapsed"><a href="../../../user/topics/eauth/index.html">External Authentication System</a><ul>
                              <li class=" no-child "><a href="../../../user/topics/eauth/access_control.html">Access Control System</a></li>
                           </ul>
                        </li>
                        <li class=" collapsible  collapsed"><a href="../../../user/topics/event/index.html">Salt Event System</a><ul>
                              <li class=" no-child "><a href="../../../user/topics/event/master_events.html">Salt Master Events</a></li>
                           </ul>
                        </li>
                        <li class=" no-child  active">
                           <div id="toc"></div>
                        </li>
                        <li class=" no-child "><a href="../../../user/topics/topology/proxyminion/index.html">Proxy Minion</a></li>
                        <li class=" no-child "><a href="../../../user/topics/windows/windows-specific-behavior.html">Windows-specific Behaviour</a></li>
                        <li class=" collapsible  collapsed"><a href="../../../user/topics/cloud/index.html">Salt Cloud</a><ul>
                              <li class=" no-child "><a href="../../../user/topics/cloud/basic.html">Salt Cloud basic usage</a></li>
                              <li class=" no-child "><a href="../../../user/topics/cloud/profiles.html">VM Profiles</a></li>
                              <li class=" no-child "><a href="../../../user/topics/cloud/map.html">Cloud Map File</a></li>
                              <li class=" no-child "><a href="../../../user/topics/cloud/action.html">Cloud Actions</a></li>
                              <li class=" no-child "><a href="../../../user/topics/cloud/function.html">Cloud Functions</a></li>
                              <li class=" collapsible  collapsed"><a href="../../../user/topics/cloud/provider-specifics.html">Cloud Provider Specifics</a><ul>
                                    <li class=" no-child "><a href="../../../user/topics/cloud/parallels.html">Getting Started With Parallels</a></li>
                                    <li class=" no-child "><a href="../../../user/topics/cloud/proxmox.html">Getting Started With Proxmox</a></li>
                                    <li class=" no-child "><a href="../../../user/topics/cloud/lxc.html">Getting Started With LXC</a></li>
                                    <li class=" no-child "><a href="../../../user/topics/cloud/hpcloud.html">Getting Started With HP Cloud</a></li>
                                    <li class=" no-child "><a href="../../../user/topics/cloud/vexxhost.html">Getting Started with VEXXHOST</a></li>
                                 </ul>
                              </li>
                              <li class=" no-child "><a href="../../../user/topics/cloud/deploy.html">OS Support for Cloud VMs</a></li>
                              <li class=" no-child "><a href="../../../user/topics/cloud/features.html">Feature Matrix</a></li>
                              <li class=" no-child "><a href="../../../user/topics/cloud/windows.html">Spinning up Windows Minions</a></li>
                           </ul>
                        </li>
                        <li class=" collapsible  collapsed"><a href="../../../user/topics/netapi/index.html">netapi modules</a><ul>
                              <li class=" no-child "><a href="../../../user/topics/netapi/writing.html">Writing netapi modules</a></li>
                           </ul>
                        </li>
                        <li class=" collapsible  collapsed"><a href="../../../user/topics/virt/index.html">Salt Virt</a><ul>
                              <li class=" no-child "><a href="../../../user/topics/virt/disk.html">Virtual Machine Disk Profiles</a></li>
                              <li class=" no-child "><a href="../../../user/topics/virt/nic.html">Virtual Machine Network Profiles</a></li>
                           </ul>
                        </li>
                        <li class=" no-child "><a href="../../../user/topics/yaml/index.html">Understanding YAML</a></li>
                        <li class=" no-child "><a href="../../../user/topics/master_tops/index.html">Master Tops System</a></li>
                        <li class=" no-child "><a href="../../../user/topics/best_practices.html">Salt Best Practices</a></li>
                        <li class=" collapsible  collapsed"><a href="../../../user/topics/troubleshooting/index.html">Troubleshooting</a><ul>
                              <li class=" no-child "><a href="../../../user/topics/troubleshooting/minion.html">Troubleshooting the Salt Minion</a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
               </ul>
            </div>
         </div>
         <div id="page-content-wrapper">
            <div class="container-fluid">
               <div class="row">
                  <div class="col-lg-12">
                     <div class="page concept  - topic-topic concept-concept " id="salt-syndic">
                        
                        <h1 class="title topictitle1">Salt Syndic</h1>
                        <div class="body conbody">
                           <p class="p">The Salt Syndic interface is a powerful tool which allows for the construction
                              of Salt command topologies. A basic Salt setup has a Salt Master commanding a
                              group of Salt Minions. The Syndic interface is a special passthrough
                              minion, it is run on a master and connects to another master, then the master
                              that the Syndic minion is listening to can control the minions attached to
                              the master running the syndic.
                           </p>
                           
                           <p class="p">The intent for supporting many layouts is not presented with the intent of
                              supposing the use of any single topology, but to allow a more flexible method
                              of controlling many systems.
                           </p>
                           
                           <div class="section" id="salt-syndic__configuring-the-syndic">
                              <h2 class="title sectiontitle">Configuring the Syndic</h2>
                              <p class="p">Since the Syndic only needs to be attached to a higher level master the
                                 configuration is very simple. On a master that is running a syndic to connect
                                 to a higher level master the <a class="xref" href="unresolvable-reference.html#configuring-the-salt-master__std:conf_master-syndic_master">syndic_master</a> option needs to be
                                 set in the master config file. The <tt class="ph tt">syndic_master</tt> option contains the
                                 hostname or IP address of the master server that can control the master that
                                 the syndic is running on.
                              </p>
                              
                              <p class="p">The master that the syndic connects to sees the syndic as an ordinary minion,
                                 and treats it as such. the higher level master will need to accept the syndic's
                                 minion key like any other minion. This master will also need to set the
                                 <a class="xref" href="unresolvable-reference.html#configuring-the-salt-master__std:conf_master-order_masters">order_masters</a> value in the configuration to <tt class="ph tt">True</tt>. The
                                 <tt class="ph tt">order_masters</tt> option in the config on the higher level master is very
                                 important, to control a syndic extra information needs to be sent with the
                                 publications, the <tt class="ph tt">order_masters</tt> option makes sure that the extra data is
                                 sent out.
                              </p>
                              
                              <p class="p">To sum up, you have those configuration options available on the master side:</p>
                              
                              <blockquote class="lq">
                                 <ul class="ul">
                                    <li class="li">
                                       <p class="p"><a class="xref" href="unresolvable-reference.html#configuring-the-salt-master__std:conf_master-syndic_master">syndic_master</a>: MasterOfMaster ip/address
                                       </p>
                                       
                                    </li>
                                    
                                    <li class="li">
                                       <p class="p"><a class="xref" href="unresolvable-reference.html#configuring-the-salt-master__std:conf_master-syndic_master_port">syndic_master_port</a>: MasterOfMaster ret_port
                                       </p>
                                       
                                    </li>
                                    
                                    <li class="li">
                                       <p class="p"><a class="xref" href="unresolvable-reference.html#configuring-the-salt-master__std:conf_master-syndic_log_file">syndic_log_file</a>: path to the logfile (absolute or not)
                                       </p>
                                       
                                    </li>
                                    
                                    <li class="li">
                                       <p class="p"><tt class="ph tt">syndic_pidfile</tt>: path to the pidfile (absolute or not)
                                       </p>
                                       
                                    </li>
                                    
                                 </ul>
                                 
                              </blockquote>
                              
                              <p class="p">Each Syndic must provide its own <tt class="ph tt">file_roots</tt> directory. Files will not be
                                 automatically transferred from the master-master.
                              </p>
                              
                           </div>
                           
                           <div class="section" id="salt-syndic__running-the-syndic">
                              <h2 class="title sectiontitle">Running the Syndic</h2>
                              <p class="p">The Syndic is a separate daemon that needs to be started on the master that is
                                 controlled by a higher master. Starting the Syndic daemon is the same as
                                 starting the other Salt daemons.
                              </p>
                              <pre class="pre codeblock language-bash"># salt-syndic</pre>
                              <aside class="note "><span class="title">Note:</span> 
                                 <p class="p">If you have an exceptionally large infrastructure or many layers of
                                    syndics, you may find that the CLI doesn't wait long enough for the syndics
                                    to return their events.  If you think this is the case, you can set the
                                    <tt class="ph tt">syndic_wait</tt> value in the upper master config.  The default
                                    value is <tt class="ph tt">1</tt>, and should work for the majority of deployments.
                                 </p>
                                 
                              </aside>
                              
                           </div>
                           
                           <div class="section" id="salt-syndic__topology">
                              <h2 class="title sectiontitle">Topology</h2>
                              <p class="p">The <tt class="ph tt">salt-syndic</tt> is little more than a command and event forwarder. When a
                                 command is issued from a higher-level master, it will be received by the
                                 configured syndics on lower-level masters, and propagated to to their minions,
                                 and other syndics that are bound to them further down in the hierarchy. When
                                 events and job return data are generated by minions, they aggregated back,
                                 through the same syndic(s), to the master which issued the command.
                              </p>
                              
                              <p class="p">The master sitting at the top of the hierarchy (the Master of Masters) will <em class="ph i">not</em>
                                 be running the <tt class="ph tt">salt-syndic</tt> daemon. It will have the <tt class="ph tt">salt-master</tt>
                                 daemon running, and optionally, the <tt class="ph tt">salt-minion</tt> daemon. Each syndic
                                 connected to an upper-level master will have both the <tt class="ph tt">salt-master</tt> and the
                                 <tt class="ph tt">salt-syndic</tt> daemon running, and optionally, the <tt class="ph tt">salt-minion</tt> daemon.
                              </p>
                              
                              <p class="p">Nodes on the lowest points of the hierarchy (minions which do not propagate
                                 data to another level) will only have the <tt class="ph tt">salt-minion</tt> daemon running. There
                                 is no need for either <tt class="ph tt">salt-master</tt> or <tt class="ph tt">salt-syndic</tt> to be running on a
                                 standard minion.
                              </p>
                              
                           </div>
                           
                        </div>
                        
                        <div xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" class="related-links"></div>
                     </div>
                     <button id="next-button" type="button" class="btn btn-primary">
                        Next <span class="glyphicon glyphicon-chevron-right"></span></button><div class="footer">
                        <p class="text-muted pull-right"><small>Copyright Â© 2015 SaltStack.</small></p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>